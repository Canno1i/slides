<h1>Python &#x26; Data Science</h1>
<h2>Präsentationen</h2>
<p><a href="https://marko-knoebl.github.io/slides/">https://marko-knoebl.github.io/slides/</a></p>
<h2>Ihr Trainer</h2>
<p>Marko Knöbl</p>
<ul>
<li>Frontend Web-Entwicklung<ul>
<li>JavaScript</li>
<li>React, Angular</li>
</ul></li>
<li>Programmierung<ul>
<li>Python, JavaScript</li>
</ul></li>
</ul>
<h2>Vorstellung der Teilnehmer</h2>
<ul>
<li>Aktuelle Projekte</li>
<li>Vorkenntnisse</li>
<li>Erwartungen / Wünsche</li>
</ul>
<h2>Organisatorisches</h2>
<ul>
<li>Kursdauer</li>
<li>Pausen</li>
<li>Mittagessen</li>
<li>Unterlagen</li>
<li>Fragen, Feedback? - Jederzeit erwünscht</li>
</ul>
<h2>Code</h2>
<p>Code verfügbar unter: <a href="https://github.com/marko-knoebl/courses-code">https://github.com/marko-knoebl/courses-code</a></p>
<h1>Pakete</h1>
<h2>Python Pakete für Data Science</h2>
<ul>
<li><em>Jupyter</em> &#x26; <em>IPython</em>: interaktive Python Umgebungen</li>
<li><em>NumPy</em>: Bibliothek zum effizienten Verarbeiten numerischer Daten</li>
<li><em>Pandas</em>: Bibliothek zur Datenanalyse, basiert auf NumPy</li>
<li><em>Matplotlib</em>: Bibliothek zur Datenvisualisierung</li>
<li><em>Scikit-Learn</em>: Bibliothek für Machine Learning, basiert auf NumPy</li>
<li><em>Keras</em>: Bibliothek für Deep Learning</li>
</ul>
<h2>Anaconda</h2>
<p><em>Anaconda</em> = Python Distribution, die viele vorinstallierte Pakete und Entwicklerwerkzeuge enthält</p>
<p>Benötigt ~3GB Platz auf der Festplatte</p>
<h2>Installation von Anaconda</h2>
<p>Download von <a href="https://www.anaconda.com/distribution/">https://www.anaconda.com/distribution/</a></p>
<p>(Achte auf die Wahl des richtigen Betriebssystems)</p>
<p>Unter Windows sollte der Installationspfad keine Leerzeichen enthalten (Empfehlung: <code>C:/anaconda</code>) - siehe <a href="https://docs.anaconda.com/anaconda/user-guide/faq/#distribution-faq-windows-folder">https://docs.anaconda.com/anaconda/user-guide/faq/#distribution-faq-windows-folder</a></p>
<h2>Conda</h2>
<p><em>Conda</em> = Environment- und Paketmanager</p>
<p>Erlaubt das Installieren verschiedener Versionen von Python, von Python-Paketen und anderen Abhängigkeiten - insbesondere hilfreich für externe Libraries, die nicht in Python geschrieben sind und kompiliert werden müssen</p>
<h2>Pyodide</h2>
<p><em>Pyodide</em> = Python Distribution, die direkt im Browser ausgeführt wird (via <em>WebAssembly</em>)</p>
<h1>Jupyter und IPython</h1>
<h2>IPython</h2>
<p>IPython = Fortgeschrittene interaktive Python Konsole, beinhaltet u.a. Autovervollständigung</p>
<h2>Jupyter Notebooks</h2>
<p>Jupyter notebook = Dateiformat (<em>.ipynb</em>), das ein interaktives Python-Dokument repräsentiert, in dem Eingabezellen einzeln ausgewertet werden können; die Interaktivität basiert auf IPython</p>
<h2>Jupyter Interfaces</h2>
<ul>
<li><em>Jupyter Notebook</em>: webbasiertes Interface, das auf einem Server oder lokal laufen kann</li>
<li><em>JupyterLab</em>: Nachfolgeprojekt von <em>Jupyter Notebook</em></li>
<li><em>VS Code</em>: unterstützt Jupyter notebooks ebenfalls</li>
</ul>
<h2>Jupyter Notebooks - online</h2>
<p>Jupyter online ausprobieren:</p>
<h3>Google Colab (Google Account benötigt)</h3>
<ul>
<li>Gehe zu <a href="https://colab.research.google.com">https://colab.research.google.com</a></li>
<li>Wähle <em>File</em> - <em>New Python 3 Notebook</em></li>
</ul>
<h3>Binder (begrenzte Sessions)</h3>
<ul>
<li>Gehe zu <a href="https://jupyter.org/try">https://jupyter.org/try</a></li>
<li><em>Try Classic Notebook</em> auswählen</li>
<li>warten ...</li>
<li><em>File</em> - <em>New Notebook</em> - <em>Python 3</em></li>
</ul>
<h2>Jupyter Notebooks - VS Code</h2>
<p>wir installieren <em>ipykernel</em> und seine Abhängigkeiten (<em>ipython</em>, <em>jupyter-core</em>, <em>jupyter-client</em>):</p>
<!-- will install ipython, jupyter-core, jupyter-client -->
<pre><code class="hljs language-bash">pip install ipykernel
</code></pre>
<p>In der Befehlspalette von VS Code (via F2) suchen wir nach: <em>Python: Create New Blank Jupyter Notebook</em></p>
<h2>Jupyter Notebooks - lokal</h2>
<p>Starten: Eintrag <em>Jupyter Notebook</em> im Startmenü / Befehl <code>jupyter notebook</code> im Terminal</p>
<p>Stoppen: <em>Quit</em> im rechten oberen Eck der Ordneransicht (üblicherweise unter http://localhost:8888/tree)</p>
<p>Python-Pakete: <em>notebook</em> oder <em>jupyterlab</em></p>
<h2>Notebook Dateien</h2>
<p>Anlegen neuer Notebook Dateien via <em>new</em> - <em>Notebook: Python 3</em></p>
<p>Speicherung unter <em>notebook.ipynb</em></p>
<p><em>Ipynb</em>: Dateiformat, das Python Code, Ausgaben und Dokumentation/Notizen beinhalten kann</p>
<h2>Code schreiben und ausführen</h2>
<p>Code in eine Zelle schreiben, z.B.</p>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> time
time.sleep(<span class="hljs-number">3</span>)
<span class="hljs-string">"hello"</span>
</code></pre>
<p>dann <em>Shift</em> + <em>Enter</em> drücken</p>
<h2>Code schreiben und ausführen</h2>
<p>In IPython gibt es nummerierte Eingaben, z.B. <code>[1]</code></p>
<p>Während eine Eingabe ausgewertet wird, wird <code>[*]</code> angezeigt</p>
<p>Wenn das letzte Statement in einer Zelle einen Wert ergibt, wird dies als Ausgabe angezeigt</p>
<p>Um das Notebook neu zu starten und alle Zellen neu auszuwerten, drücke ⏩</p>
<h2>Code schreiben und ausführen</h2>
<p>Auf die letzte Ausgabe zugreifen:</p>
<pre><code class="hljs language-py">print(_ * <span class="hljs-number">3</span>)
</code></pre>
<h2>Dokumentation via Markdown</h2>
<p>Wir können Dokumentation über die standardisierte Sprache <em>Markdown</em> hinzufügen:</p>
<p>Wir ändern das Dropdown von <em>Code</em> auf <em>Markdown</em> und versuchen den folgenden Code:</p>
<pre><code class="hljs language-md"><span class="hljs-section"># Heading</span>
<span class="hljs-bullet">
- </span>item 1
<span class="hljs-bullet">- </span>item 2
</code></pre>
<p>Zelle ausführen oder verlassen, um das Resultat anzuzeigen, doppelklicken zum erneuten Editieren</p>
<p><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheatsheet</a></p>
<h2>Dokumentation</h2>
<p>Dokumentation zu Funktion / Klasse / Modul / ... in einer Python Konsole anzeigen:</p>
<pre><code class="hljs language-py">help(str)
</code></pre>
<p>(Navigieren durch lange Ausgaben via <em>Enter</em>, Beenden via <em>Q</em>)</p>
<p>Shortcut in IPython / Jupyter:</p>
<pre><code class="hljs language-ipython">str?
</code></pre>
<h2>Tab-Vervollständigung und Wildcard-Ausdrücke</h2>
<pre><code class="hljs language-ipython">*Error?
</code></pre>
<h2>Terminal-Befehle ausführen</h2>
<p>IPython beinhaltet direkten Zugriff auf viele Terminal-Befehle, z.B. <code>ls</code>, <code>cd</code>, ...</p>
<p>Wir können beliebige Terminal-Befehle ausführen, indem wir ein <code>!</code> davor setzen</p>
<h1>NumPy</h1>
<h2>NumPy</h2>
<p>Library zur effizienten Datenverarbeitung</p>
<p>Daten sind in mehrdimensionalen Arrays von Zahlen gespeichert, die resourcenschonend umgesetzt sind:</p>
<ul>
<li>kleinerer Speicherverbrauch als z.B. Listen von Zahlen in Python</li>
<li>deutlich schnelleres Ausführen von z.B. elementweiser Addition zweier Arrays</li>
</ul>
<p>Daten können z.B. Bilder, Tondateien, Messwerte und vieles anderes repräsentieren</p>
<h2>Importieren von NumPy</h2>
<p>oft verkürzt als:</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
</code></pre>
<h2>Arrays</h2>
<p>Erstellen eines 2-dimensionalen Arrays:</p>
<pre><code class="hljs language-py">a2d = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]])
</code></pre>
<p>Ausgabe:</p>
<pre><code class="hljs language-py">array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
       [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],
       [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]])
</code></pre>
<h2>Arrays</h2>
<p>Erstellen eines 3-dimensionalen Arrays:</p>
<pre><code class="hljs language-py">a3d = np.array([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]], [[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]]])
</code></pre>
<p>Ausgabe:</p>
<pre><code class="hljs language-py">array([[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
        [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]],

       [[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>],
        [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]]])
</code></pre>
<h2>NumPy Arrays vs Python Listen</h2>
<p>Arrays sind im Hintergrund in C implementiert, die numerischen Einträge (z.B. Integer) sind keine Python-Objekte und damit resourcenschonender.</p>
<h2>NumPy Arrays vs Python Listen</h2>
<p>Python-Liste (referenziert Integer-Objekte):</p>
<pre><code class="hljs language-py">list_a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
</code></pre>
<p>NumPy Array (Daten sind im Array enthalten ohne auf externe Objekte zu verweisen):</p>
<pre><code class="hljs language-py">array_a = np.array(list_a)
</code></pre>
<p>Schnelle elementweise Operation (in C implementiert):</p>
<pre><code class="hljs language-py">array_a * array_a
</code></pre>
<h2>Array Shape</h2>
<p>Wir können folgendes abfragen:</p>
<ul>
<li><code>a3d.ndim</code>: 3</li>
<li><code>a3d.shape</code>: (2, 2, 2)</li>
<li><code>a3d.size</code>: 8</li>
</ul>
<h1>Arrays erstellen</h1>
<h2>Arrays erstellen</h2>
<p>Ein Array der Größe 2x6, gefüllt mit Nullen:</p>
<pre><code class="hljs language-py">np.zeros((<span class="hljs-number">2</span>, <span class="hljs-number">6</span>))
</code></pre>
<p>oder</p>
<pre><code class="hljs language-py">np.full((<span class="hljs-number">2</span>, <span class="hljs-number">6</span>), <span class="hljs-number">0.0</span>)
</code></pre>
<p>Ein 3x3 Array mit Zufallswerten:</p>
<pre><code class="hljs language-py">np.random.random((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))
</code></pre>
<h2>Arrays erstellen</h2>
<p>Erstellen der Folge <em>0.0, 0.5, 1.0, 1.5</em>:</p>
<p>fixe Schrittweite (0.5):</p>
<pre><code class="hljs language-py">a = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0.5</span>)
</code></pre>
<p>fixe Anzahl an Einträgen (4):</p>
<pre><code class="hljs language-py">b = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">4</span>)
</code></pre>
<h1>Operationen auf Arrays</h1>
<h2>Operationen auf Arrays</h2>
<p>Auswählen von Einträgen:</p>
<pre><code class="hljs language-py">a2d[<span class="hljs-number">0</span>] <span class="hljs-comment"># [1, 2, 3]</span>
a2d[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>] <span class="hljs-comment"># 2</span>
a2d[<span class="hljs-number">0</span>, :] <span class="hljs-comment"># [1, 2, 3]</span>
a2d[:, <span class="hljs-number">0</span>] <span class="hljs-comment"># [1, 4, 7]</span>
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>Auswählen von Einträgen:</p>
<pre><code class="hljs language-py">a2d[<span class="hljs-number">1</span>:, <span class="hljs-number">1</span>:] <span class="hljs-comment"># [[5, 6], [8, 9]]</span>
a2d[<span class="hljs-number">1</span>, ::<span class="hljs-number">-1</span>] <span class="hljs-comment"># [6, 5, 4]</span>
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>Operatoren werden elementweise angewendet:</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
b = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>])

print(-a)
<span class="hljs-comment"># np.array([-1, -2, -3])</span>
print(a + b)
<span class="hljs-comment"># np.array([3, 4, 5])</span>
print(a * b)
<span class="hljs-comment"># np.array([2, 4, 6])</span>
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>Auch mit einzelnen Zahlen möglich (broadcasting):</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

print(a + <span class="hljs-number">1</span>)
<span class="hljs-comment"># np.array([2, 3, 4])</span>
</code></pre>
<p>Einige Konstanten sind direkt in NumPy verfügbar:</p>
<pre><code class="hljs language-py">print(a + np.pi)
print(a + np.e)
print(np.nan)
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>Elementweises Vergleichen von Arrays:</p>
<pre><code class="hljs language-py">a &#x3C; b
<span class="hljs-comment"># np.array([True, False, False])</span>
a == b
<span class="hljs-comment"># np.array([False, True, False])</span>
</code></pre>
<p>Achtung: <code>a == b</code> kann nicht sinnvoll in if-Abfragen verwendet werden - verwende <code>np.array_equal(a, b)</code>.</p>
<h2>Operationen auf Arrays</h2>
<p>Filtern von Arrays (z.B. beschränken auf positive Einträge):</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">-1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">1</span>])
a_is_pos = a > <span class="hljs-number">0</span>
<span class="hljs-comment"># array([False, True, False, True])</span>
a_pos = a[a_is_pos]
<span class="hljs-comment"># array([3, 1])</span>
</code></pre>
<p>Kurzform:</p>
<pre><code class="hljs language-py">a_pos = a[a > <span class="hljs-number">0</span>]
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>NumPy bietet spezielle Funktionen, die elementweise angewendet werden:</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

print(np.sin(a))
<span class="hljs-comment"># [0.0, 0.84147098, 0.9... ]</span>
print(np.sqrt(a))
<span class="hljs-comment"># [0.0, 1.0, 1.414... ]</span>
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>Elementweise Funktionen:</p>
<ul>
<li><code>abs</code></li>
<li><code>sin</code></li>
<li><code>cos</code></li>
<li><code>sqrt</code></li>
<li><code>exp</code></li>
<li><code>log</code></li>
<li><code>log10</code></li>
<li>...</li>
</ul>
<h2>Operationen auf Arrays</h2>
<p><em>Aggregationen</em> berechnen beispielsweise Werte zu jeder Zeile / jeder Spalte oder zu einem ganzen Array</p>
<p>Gesamtsumme:</p>
<pre><code class="hljs language-py">np.sum(a2d)
</code></pre>
<p>Summe über alle Zeilen:</p>
<pre><code class="hljs language-py">np.sum(a2d, axis=<span class="hljs-number">0</span>)
</code></pre>
<p>Summe über alle Spalten:</p>
<pre><code class="hljs language-py">np.sum(a2d, axis=<span class="hljs-number">1</span>)
</code></pre>
<h2>Operationen auf Arrays</h2>
<p>Aggregationen:</p>
<ul>
<li><code>sum</code></li>
<li><code>min</code></li>
<li><code>max</code></li>
<li><code>std</code></li>
<li><code>percentile</code></li>
</ul>
<h2>Übungen</h2>
<p>(siehe nächste Slides)</p>
<ul>
<li>Preise und Mengen -> Gesamtpreis</li>
<li>Schwerpunkt eines Dreiecks</li>
<li>Sinus- und Kosinusfunktion - Wertetabelle</li>
</ul>
<h2>Übungen</h2>
<p>Gegeben sind ein Array von Preisen und ein Array von gekauften Mengen. Bestimme den Gesamtpreis:</p>
<pre><code class="hljs language-py">prices = np.array([<span class="hljs-number">3.99</span>, <span class="hljs-number">4.99</span>, <span class="hljs-number">3.99</span>, <span class="hljs-number">12.99</span>])
<span class="hljs-comment"># buying the first item 3 times and the last item 2 times</span>
quantities = np.array([<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>])

<span class="hljs-comment"># solution: 37.95</span>
</code></pre>
<h2>Übungen</h2>
<p>Gegeben sind die Koordinaten von Eckpunkten eines Dreiecks (2D oder 3D). Bestimme den Schwerpunkt (arithmetisches Mittel der Eckpunkte).</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">1</span>])
b = np.array([<span class="hljs-number">6</span>, <span class="hljs-number">8</span>])
c = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>])

<span class="hljs-comment"># solution: [4, 4]</span>
</code></pre>
<h2>Übungen</h2>
<p>Erstelle eine Wertetabelle für Sinus- und Kosinusfunktion im Intervall von 0 bis 2*pi.</p>
<p>Resultat:</p>
<pre><code class="hljs language-py"><span class="hljs-comment"># x, sin(x), cos(x)</span>
np.array([[<span class="hljs-number">0.0</span>, <span class="hljs-number">0.01</span>, <span class="hljs-number">0.02</span>, ...],
          [<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0099998</span>, <span class="hljs-number">0.99995</span>, ...],
          [<span class="hljs-number">1.0</span>, <span class="hljs-number">0.99995</span>, <span class="hljs-number">0.99980</span>, ...]])
</code></pre>
<p>Überprüfe anhand der Daten, ob näherungsweise gilt: <em>sin(x)^2 + cos(x)^2 = 1</em></p>
<h1>Array Typen</h1>
<h2>Array Typen</h2>
<p>Jedes Array kann nur Daten eines Typs enthalten (z.B. nur 64-bit floats oder nur bytes)</p>
<h2>Array Typen</h2>
<p>Jedes Array hat einen vorgegebenen Datentyp für alle Einträge</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">1</span>])
a.dtype <span class="hljs-comment"># int32</span>
b = np.array([<span class="hljs-number">1.0</span>])
b.dtype <span class="hljs-comment"># float64</span>
c = np.array([<span class="hljs-string">'abc'</span>])
c.dtype <span class="hljs-comment"># &#x3C;U3</span>
d = np.array([<span class="hljs-string">b'abc'</span>])
d.dtype <span class="hljs-comment"># |S3</span>
</code></pre>
<h2>Array Typen</h2>
<p>Typen können explizit angegeben werden:</p>
<pre><code class="hljs language-py">a = np.array([<span class="hljs-number">1</span>], dtype=<span class="hljs-string">'int64'</span>)
b = np.array([<span class="hljs-number">1</span>], dtype=<span class="hljs-string">'uint8'</span>)
</code></pre>
<p>Typen werden wenn möglich automatisch umgewandelt:</p>
<pre><code class="hljs language-py">c = a + b
c.dtype <span class="hljs-comment"># int64</span>
</code></pre>
<h2>Array Typen</h2>
<p>wichtige Typen:</p>
<ul>
<li><em>bool</em> / <em>bool_</em> (Speicherverbrauch 8 Bit)</li>
<li><em>int8</em>, <em>int16</em>, <em>int32</em>, <em>int64</em></li>
<li><em>uint8</em>, <em>uint16</em>, <em>uint32</em>, <em>uint64</em></li>
<li><em>float16</em>, <em>float32</em>, <em>float64</em></li>
</ul>
<h2>Overflow</h2>
<p>Achtung bei zu großen / zu kleinen Werten</p>
<p>Der Typ <code>int8</code> erlaubt nur Werte im Bereich <code>-128</code> bis <code>+127</code></p>
<pre><code class="hljs language-py">np.array([<span class="hljs-number">127</span>, <span class="hljs-number">128</span>, <span class="hljs-number">129</span>], dtype=<span class="hljs-string">"int8"</span>)
</code></pre>
<p>Output:</p>
<pre><code class="hljs language-py">array([<span class="hljs-number">127</span>, <span class="hljs-number">-128</span>, <span class="hljs-number">-127</span>])
</code></pre>
<h1>Plotting</h1>
<h3>Datenvisualisierung</h3>
<h2>Plotting</h2>
<p>Grundlegende (low-level) Library für Plotting: <em>matplotlib</em></p>
<p>Abstrahierende Interfaces zu grundlegenden matplotlib Funktionen:</p>
<ul>
<li><em>pyplot</em> (enthalten in matplotlib, ähnlich zum matlab Plotinterface)</li>
<li><em>pandas</em> Plotfunktionen</li>
<li><em>seaborn</em></li>
</ul>
<h2>Einfacher Plot mit pyplot</h2>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

y1 = x*<span class="hljs-number">2</span>
y2 = x**<span class="hljs-number">2</span>

plt.plot(x, y1)
plt.plot(x, y2)

<span class="hljs-comment"># plt.show is not needed in Jupyter</span>
plt.show()
</code></pre>
<h2>Einfacher Plot mit pandas</h2>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

x = np.array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

data = pd.DataFrame({
    <span class="hljs-string">"y1"</span>: x*<span class="hljs-number">2</span>,
    <span class="hljs-string">"y2"</span>: x**<span class="hljs-number">2</span>
})

data.plot.line()

<span class="hljs-comment"># plt.show is not needed in Jupyter</span>
plt.show()
</code></pre>
<h2>Übung</h2>
<p>Erstelle einen Plot, der die Sinus- und Kosinusfunktion im Intervall von <em>0</em> bis <em>2π</em> zeigt.</p>
<h2>Übung</h2>
<p>Lösung mittels pyplot:</p>
<pre><code class="hljs language-py">x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*<span class="hljs-number">3.1415</span>, <span class="hljs-number">200</span>)

plt.plot(x, np.sin(x))
plt.plot(x, np.cos(x))
</code></pre>
<p>Lösung mittels pandas:</p>
<pre><code class="hljs language-py">x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*<span class="hljs-number">3.1415</span>, <span class="hljs-number">200</span>)

df = pd.DataFrame({<span class="hljs-string">"sin"</span>: np.sin(x), <span class="hljs-string">"cos"</span>: np.cos(x)}, index=x)

df.plot.line()
</code></pre>
<h2>Übungen</h2>
<p>Zeichne eine Gauß'sche Glockenkurve</p>
<h1>Pyplot: Konfiguration und Styling</h1>
<h2>Stile</h2>
<p>Vorgefertigte Stylesheets verwendbar mittels:</p>
<pre><code class="hljs language-py">plt.style.use(<span class="hljs-string">"stylename"</span>)
</code></pre>
<p><a href="https://matplotlib.org/3.3.0/gallery/style_sheets/style_sheets_reference.html">Referenz verfügbarer Stile</a></p>
<h2>Stile von Graphen</h2>
<p>Kurzformen:</p>
<pre><code class="hljs language-py">plt.plot(x, y, <span class="hljs-string">"C0X--"</span>)
</code></pre>
<p>Langform:</p>
<pre><code class="hljs language-py">plt.plot(x, y, color=<span class="hljs-string">"C0"</span>, marker=<span class="hljs-string">"X"</span>, linestyle=<span class="hljs-string">"dashed"</span>)
</code></pre>
<p>In der Langform sind genauere Farb- und Größenangaben möglich</p>
<h2>Stile von Graphen</h2>
<p>mögliche Farbangaben:</p>
<ul>
<li>Theme-Farbe (<code>C0</code> ... <code>C10</code>)</li>
<li>Farbname (<code>green</code> / <code>lighblue</code> / ...)</li>
<li>Kurzname (<code>r</code> / <code>g</code> / <code>b</code> / <code>c</code> / <code>m</code> / <code>y</code> / <code>k</code>)</li>
<li>Hex-Code (z.B. <code>#FFAA00</code>)</li>
<li>RGB-Tupel (z.B. <code>(1, 0.7, 0)</code>)</li>
</ul>
<h2>Stile von Graphen</h2>
<p>mögliche Lininenstile:</p>
<ul>
<li><code>""</code> (<em>none</em>)</li>
<li><code>"-"</code> (<em>solid</em>)</li>
<li><code>"--"</code> (<em>dashed</em>)</li>
<li><code>":"</code> (<em>dotted</em>)</li>
<li><code>"-."</code> (<em>dashdot</em>)</li>
</ul>
<h2>Stile von Graphen</h2>
<p>mögliche Marker:</p>
<ul>
<li><code>""</code> (keine)</li>
<li><code>","</code> (kleiner Punkt)</li>
<li><code>"."</code> (mittelgroßer Punkt)</li>
<li><code>"o"</code> (großer Punkt)</li>
<li><code>"s"</code> (Quadrat)</li>
<li><code>"X"</code></li>
<li><code>"+"</code></li>
<li>...</li>
</ul>
<h2>Stile von Graphen</h2>
<p>wichtige Parameter:</p>
<ul>
<li><code>color</code></li>
<li><code>linestyle</code></li>
<li><code>linewidth</code></li>
<li><code>marker</code></li>
<li><code>markersize</code></li>
</ul>
<h2>Label</h2>
<ul>
<li><code>plt.title("Trigonometric functions")</code></li>
<li><code>plt.xlabel("x (radians)")</code></li>
<li><code>plt.ylabel("y")</code></li>
</ul>
<h2>Label</h2>
<p>Label für verschiedene Graphen:</p>
<pre><code class="hljs language-py">plt.plot(x, np.sin(x), label=<span class="hljs-string">'sin(x)'</span>)
plt.plot(x, np.cos(x), label=<span class="hljs-string">'cos(x)'</span>)

plt.legend()
</code></pre>
<h2>Achsen</h2>
<p>Achsen ausblenden:</p>
<pre><code class="hljs language-py">plt.axis(<span class="hljs-string">"off"</span>)
</code></pre>
<h2>Achsenlimits</h2>
<p>Ansicht einpassen (ohne Abstand zum Rand):</p>
<pre><code class="hljs language-py">plt.axis(<span class="hljs-string">"tight"</span>)
</code></pre>
<p>Bestimmten Ausschnitt anzeigen:</p>
<pre><code class="hljs language-py">plt.axis([<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>])
</code></pre>
<p>Bestimmten Ausschnitt für einzelne Achse:</p>
<pre><code class="hljs language-py">plt.xlim(<span class="hljs-number">-1</span>, <span class="hljs-number">1</span>)
</code></pre>
<h2>Achsenskalierung</h2>
<p>Gleiche Einheitengröße auf beiden Achsen:</p>
<pre><code class="hljs language-py">plt.axis(<span class="hljs-string">"equal"</span>)
</code></pre>
<p>Gleiche Einheitengrößen und Beschränkung der Achsen auf verwendete Datenbereiche:</p>
<pre><code class="hljs language-py">plt.axis(<span class="hljs-string">"scaled"</span>)
</code></pre>
<h2>Gitter</h2>
<pre><code class="hljs language-py">plt.grid(<span class="hljs-literal">True</span>)
</code></pre>
<h2>Achsenmarkierungen</h2>
<pre><code class="hljs language-py">plt.yticks([<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>])
plt.xticks(np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi, <span class="hljs-number">5</span>))
</code></pre>
<h2>Übungen</h2>
<ul>
<li>Sinus und Kosinus mit erweiterten Optionen</li>
<li>n-te Primzahl und Approximation via <em>n * ln(n)</em></li>
<li>Schätzung von Pi durch zufällige Punkte</li>
</ul>
<h1>Pyplot: Gundlegende Plots</h1>
<h2>Grundlegende Plots</h2>
<ul>
<li>Graph</li>
<li>Säulendiagramm</li>
<li>Scatter Plot</li>
<li>Histogramm</li>
<li>Box Plot</li>
<li>Tortendiagramm</li>
</ul>
<h2>Grundlegende Plots</h2>
<ul>
<li>Graph: <code>plt.plot(x, y)</code> / <code>plt.plot(y)</code></li>
<li>Säulen- und Balkendiagramm: <code>plt.bar(x, y)</code></li>
<li>Scatter Plot: <code>plt.plot(x, y, ".")</code> / <code>plt.scatter(x, y, size, color)</code></li>
<li>Histogramm: <code>plt.hist(x)</code></li>
<li>Box Plot: <code>plt.boxplot(x)</code></li>
<li>Tortendiagramm: <code>plt.pie(x, labels=...)</code></li>
</ul>
<h2>Graph</h2>
<p>Graph zusammengehöriger x- und y-Werte:</p>
<pre><code class="hljs language-py">plt.plot(x, y)
</code></pre>
<p>Graph mit automatischem x (0, 1, ...):</p>
<pre><code class="hljs language-py">plt.plot(y)
</code></pre>
<h2>Graph</h2>
<p>Mehrere Datensätze:</p>
<pre><code class="hljs language-py">x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]

y1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]
y2 = [<span class="hljs-number">3</span>, <span class="hljs-number">0</span> , <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]

plt.plot(x, [y1, y2])
</code></pre>
<h2>Säulen- und Balkendiagramm</h2>
<pre><code class="hljs language-py">plt.bar(x, y, width=<span class="hljs-number">0.6</span>)
plt.bar(x, y, width=<span class="hljs-number">1</span>, align=<span class="hljs-string">"edge"</span>)

plt.bar(
    [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
    [<span class="hljs-number">9.6</span>, <span class="hljs-number">17</span>, <span class="hljs-number">9.8</span>],
    tick_label=[<span class="hljs-string">"China"</span>, <span class="hljs-string">"Russia"</span>, <span class="hljs-string">"USA"</span>]
)

plt.barh([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">9.6</span>, <span class="hljs-number">17</span>, <span class="hljs-number">9.8</span>])
</code></pre>
<h2>Scatter Plot</h2>
<p>Erstellt Datenpunkte mit zwei (oder mehr) zugehörigen Werten - einer auf der x- und einer auf der y-Achse</p>
<p>Einfach:</p>
<pre><code class="hljs language-py">plt.plot(x, y, <span class="hljs-string">"."</span>)
</code></pre>
<p>Fortgeschritten:</p>
<pre><code class="hljs language-py">plt.scatter(x, y, size, color)
</code></pre>
<h2>Histogramm</h2>
<p>Zählt die Häufigkeit von bestimmten Werten / Wertebereichen</p>
<pre><code class="hljs language-py">plt.hist(
    body_heights_men,
    bins=[<span class="hljs-number">150</span>, <span class="hljs-number">160</span>, <span class="hljs-number">170</span>, <span class="hljs-number">180</span>, <span class="hljs-number">190</span>, <span class="hljs-number">200</span>]
)
</code></pre>
<pre><code class="hljs language-py">plt.hist(
    body_heights_men,
    bins=[<span class="hljs-number">150</span>, <span class="hljs-number">170</span>, <span class="hljs-number">180</span>, <span class="hljs-number">200</span>],
    density=<span class="hljs-literal">True</span>
)
</code></pre>
<h2>Box Plot</h2>
<p>Visualisierung von statistischen Daten in einem Diagramm (Minimum, Median, Maximum, ...)</p>
<pre><code class="hljs language-py">plt.boxplot(
    [body_heights_men, body_heights_women],
    labels=[<span class="hljs-string">"men"</span>, <span class="hljs-string">"women"</span>]
)
</code></pre>
<h2>Tortendiagramm</h2>
<pre><code class="hljs language-py">plt.pie([<span class="hljs-number">3</span>, <span class="hljs-number">10</span>, <span class="hljs-number">17</span>, <span class="hljs-number">9</span>], labels=[<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>, <span class="hljs-string">"d"</span>])

plt.pie([<span class="hljs-number">3</span>, <span class="hljs-number">10</span>, <span class="hljs-number">17</span>, <span class="hljs-number">9</span>], explode=[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>])
</code></pre>
<h1>Weitere Plots</h1>
<h2>Weitere Plots</h2>
<ul>
<li>Plotten von Datenpunkten mit mehr als 2 Merkmalen</li>
<li>Plotten von z = f(x, y)</li>
<li>Plotten der Dichtefunktion einer Verteilung (1D und 2D)</li>
</ul>
<h2>Plotten von Datenpunkten mit mehr als 2 Merkmalen</h2>
<ul>
<li>erweiterter Scatter Plot (Größe, Farbe) - pyplot, pandas, seaborn</li>
<li>Scatter Matrix - pandas, seaborn</li>
</ul>
<h2>Plotten von z = f(x, y)</h2>
<ul>
<li>Contour Plots - pyplot, pandas, seaborn</li>
<li>3D Plots - matplotlib</li>
</ul>
<h2>Plotten der Dichtefunktion einer Verteilung</h2>
<ul>
<li>(Histogramm)</li>
<li>(Box Plot)</li>
<li>KDE (Kernel Density Estimation) - pandas, seaborn</li>
<li>Violin Plot - seaborn</li>
<li>2D Histogramm - pyplot (hist2d, hexbin)</li>
<li>2D KDE - seaborn</li>
</ul>
<h1>Figure, Axes &#x26; Subplots</h1>
<h2>Figure &#x26; Axes</h2>
<p>Figure = ganze Zeichnung</p>
<p>Axes = Koordinatensystem, in das Daten eingetragen werden</p>
<p>Eine Figure kann mehrere Axes-Objekte (nebeneinander, untereinander, ...) enthalten</p>
<h2>Figure</h2>
<p>Jede Zeichnung in <em>pyplot</em> erfolgt mittels eines <em>Figure</em>-Objekts (wird beim plotten meist automatisch erzeugt).</p>
<p>Manuelles Erstellen einer Figure mit Größe 800 x 600 px (bei 100 dpi):</p>
<pre><code class="hljs language-py">fig = plt.figure(
    figsize=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>),
    facecolor=<span class="hljs-string">"#eeeeee"</span>
)
</code></pre>
<p>Dies wird automatisch zur aktiven Figure.</p>
<h2>Figure Objekte</h2>
<p>Exportieren einer Figure:</p>
<pre><code class="hljs language-py">fig.savefig(<span class="hljs-string">"myplot.png"</span>)
fig.savefig(<span class="hljs-string">"myplot.svg"</span>)
</code></pre>
<h2>Figure Objekte</h2>
<p>Aufgabe: Skript, das eine PNG-Datei eines Graphen der aktuellen CPU-Last erstellt und jede Sekunde aktualisiert. (verwende hierzu das PIP-Paket <em>psutil</em>)</p>
<h2>Axes Objekte</h2>
<p>Das aktive <em>Axes</em>-Objekt abfragen:</p>
<pre><code class="hljs language-py">ax = plt.gca() <span class="hljs-comment"># get current axes</span>
</code></pre>
<p>Die schon bekannten Methoden von <code>plt</code> verwenden im Hintergrund Methoden des aktiven <em>Axes</em> Objekts:</p>
<pre><code class="hljs language-py">ax.plot(...)
ax.set_title(...)
ax.set_xlabel(...)
ax.legend()
ax.set_aspect(<span class="hljs-string">"equal"</span>)
</code></pre>
<h2>Axes Objekte</h2>
<p>Aufgabe: Erstellen des Sinus- und Kosinusplots via <em>Axes</em></p>
<h2>Axis und Axes</h2>
<p>Achtung unglückliche Namensvergabe:</p>
<ul>
<li><code>plt.axis</code>: z.B. zum Einstellen der Skalierung</li>
<li><code>plt.axes</code>: zum Erstellen eines neuen Koordinatensystems</li>
</ul>
<p>Eigentliche Bedeutungen aus dem Lateinischen / Englischen: <em>axis</em> = Achse, <em>axes</em> = Achsen</p>
<h2>Subplots</h2>
<p>Erstellen mehrerer Axes-Objekte in einem Raster (hier: 2 Zeilen, 3 Spalten):</p>
<pre><code class="hljs language-py">fig, ax = plt.subplots(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)

ax0 = ax[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>]
ax1 = ax[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]
ax5 = ax[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]
</code></pre>