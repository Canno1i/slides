<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Python Intermediate</title>
  <style>/*

Original highlight.js style (c) Ivan Sagalaev <maniac@softwaremaniacs.org>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #F0F0F0;
}


/* Base color: saturation 0; */

.hljs,
.hljs-subst {
  color: #444;
}

.hljs-comment {
  color: #888888;
}

.hljs-keyword,
.hljs-attribute,
.hljs-selector-tag,
.hljs-meta-keyword,
.hljs-doctag,
.hljs-name {
  font-weight: bold;
}


/* User color: hue: 0 */

.hljs-type,
.hljs-string,
.hljs-number,
.hljs-selector-id,
.hljs-selector-class,
.hljs-quote,
.hljs-template-tag,
.hljs-deletion {
  color: #880000;
}

.hljs-title,
.hljs-section {
  color: #880000;
  font-weight: bold;
}

.hljs-regexp,
.hljs-symbol,
.hljs-variable,
.hljs-template-variable,
.hljs-link,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #BC6060;
}


/* Language color: hue: 90; */

.hljs-literal {
  color: #78A960;
}

.hljs-built_in,
.hljs-bullet,
.hljs-code,
.hljs-addition {
  color: #397300;
}


/* Meta color: hue: 200 */

.hljs-meta {
  color: #1f7199;
}

.hljs-meta-string {
  color: #4d99bf;
}


/* Misc effects */

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
</style>
</head>

<body>
  <div id="canvas">
    <div id="no-script">
      Could not execute modern JavaScript code. Please switch to a modern browser,
      e.g. the most recent version of Firefox, Chrome or Edge and enable JavaScript.
    </div>
    <div id="canvas-content">

      <section class="section" id="section-1"><section class="slide" id="slide-1-1">
        <h1 id="title">Python Intermediate</h1>

      </section><section class="slide" id="slide-1-2">
        <h2 id="presentation-and-code">Presentation and code</h2>
<p>Presentations available at: <a href="https://karuga.eu/courses-presentations">https://karuga.eu/courses-presentations</a></p>
<p>Code available at: <a href="https://github.com/marko-knoebl/courses-code">https://github.com/marko-knoebl/courses-code</a></p>

      </section><section class="slide" id="slide-1-3">
        <h2 id="your-trainer">Your Trainer</h2>
<p>Marko Kn√∂bl</p>
<ul>
<li>Frontend Web-Development<ul>
<li>JavaScript</li>
<li>React, Angular</li>
</ul>
</li>
<li>Programming<ul>
<li>Python, JavaScript</li>
</ul>
</li>
</ul>

      </section><section class="slide" id="slide-1-4">
        <h2 id="introduction-of-participants">Introduction of Participants</h2>
<ul>
<li>Name</li>
<li>Company</li>
<li>Current Projects</li>
<li>Prior Knowledge</li>
<li>Expectations</li>
</ul>

      </section><section class="slide" id="slide-1-5">
        <h2 id="organizational">Organizational</h2>
<ul>
<li>Duration</li>
<li>Breaks</li>
<li>Materials</li>
<li>Questions, Feedback?</li>
</ul>

      </section></section><section class="section" id="section-2"><section class="slide" id="slide-2-1">
        <h1 id="data-types-in-python">Data types in Python</h1>

      </section><section class="slide" id="slide-2-2">
        <h2 id="basic-data-types">Basic data types</h2>
<ul>
<li>int</li>
<li>float</li>
<li>bool</li>
<li>NoneType</li>
<li>string</li>
<li>bytes</li>
</ul>

      </section><section class="slide" id="slide-2-3">
        <h2 id="collections">Collections</h2>
<ul>
<li>list</li>
<li>tuple</li>
<li>dict</li>
<li>set</li>
</ul>

      </section><section class="slide" id="slide-2-4">
        <h2 id="other-data-types">Other data types</h2>
<ul>
<li>complex</li>
<li>frozenset</li>
<li>bytearray</li>
<li>OrderedDict</li>
<li>NamedTuple</li>
</ul>

      </section></section><section class="section" id="section-3"><section class="slide" id="slide-3-1">
        <h1 id="none">None</h1>

      </section><section class="slide" id="slide-3-2">
        <h2 id="none">None</h2>
<p>The expression <code>None</code> is for &quot;nothing&quot; - analogous to <code>null</code> or <code>undefined</code> in other languages.</p>
<p>It may be used if a certain value is unknown</p>
<pre><code class="language-py">users = [
  [<span class="hljs-string">"John"</span>, <span class="hljs-string">"Doe"</span>, <span class="hljs-string">"1976-10-23"</span>],
  [<span class="hljs-string">"Jane"</span>, <span class="hljs-string">"Doe"</span>, <span class="hljs-keyword">None</span>]
]</code></pre>

      </section><section class="slide" id="slide-3-3">
        <h2 id="none">None</h2>
<p><code>None</code> is a Singleton:</p>
<ul>
<li>there is only ever a single instance of it inside a running Python program</li>
<li>multiple variables may refer to that same instance</li>
</ul>

      </section><section class="slide" id="slide-3-4">
        <h2 id="comparisons-via-is">Comparisons via &quot;is&quot;</h2>
<p>The keyword <code>is</code> checks whether two references / names refer to the same object.</p>
<pre><code class="language-py">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]
b = a
x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]

a == b <span class="hljs-comment"># True</span>
a <span class="hljs-keyword">is</span> b <span class="hljs-comment"># True</span>
a == x <span class="hljs-comment"># True</span>
a <span class="hljs-keyword">is</span> x <span class="hljs-comment"># False</span></code></pre>

      </section><section class="slide" id="slide-3-5">
        <h2 id="none-and-is">None and &quot;is&quot;</h2>
<p>As <code>None</code> is a singleton we can check for it via <code>is None</code>:</p>
<pre><code class="language-py"><span class="hljs-keyword">if</span> a <span class="hljs-keyword">is</span> <span class="hljs-keyword">None</span>:
    print(<span class="hljs-string">"a is None"</span>)</code></pre>

      </section></section><section class="section" id="section-4"><section class="slide" id="slide-4-1">
        <h1 id="bool">bool</h1>

      </section><section class="slide" id="slide-4-2">
        <h2 id="bool">bool</h2>
<p><code>True</code> or <code>False</code></p>
<pre><code class="language-py">a = <span class="hljs-keyword">True</span>
<span class="hljs-keyword">if</span> a:
    print(<span class="hljs-string">'hello'</span>)</code></pre>

      </section><section class="slide" id="slide-4-3">
        <h2 id="bool">bool</h2>
<p>Internally <code>False</code> behaves almost like <code>0</code> and <code>True</code> behaves almost like <code>1</code></p>
<pre><code class="language-py"><span class="hljs-keyword">False</span> + <span class="hljs-keyword">True</span> <span class="hljs-comment"># 1</span></code></pre>

      </section></section><section class="section" id="section-5"><section class="slide" id="slide-5-1">
        <h1 id="numbers">Numbers</h1>

      </section><section class="slide" id="slide-5-2">
        <h2 id="int">int</h2>
<p>integers of arbitrary size</p>

      </section><section class="slide" id="slide-5-3">
        <h2 id="int">int</h2>
<p>Other numeral systems:</p>
<pre><code class="language-py">a = <span class="hljs-number">42</span>
b = <span class="hljs-number">0o52</span>
c = <span class="hljs-number">0x2a</span>
d = <span class="hljs-number">0b101010</span></code></pre>
<pre><code class="language-py">e = int(<span class="hljs-string">'101010'</span>, <span class="hljs-number">2</span>)</code></pre>

      </section><section class="slide" id="slide-5-4">
        <h2 id="float">float</h2>
<p>64 bit float</p>
<pre><code class="language-py">a = <span class="hljs-number">2.3</span>
b = <span class="hljs-number">.2</span>
c = <span class="hljs-number">6e23</span>
d = float(<span class="hljs-string">'nan'</span>)
e = float(<span class="hljs-string">'inf'</span>)</code></pre>

      </section><section class="slide" id="slide-5-5">
        <h2 id="float">float</h2>
<p>Be cautious of rounding errors: Some numbers cannot be represented as floating point numbers, they will always be rounded</p>
<p>e.g.: <code>1/3</code></p>
<p>A computer is also unable to represent numbers like <code>0.1</code> or <code>0.2</code> exactly</p>
<p>example: <code>0.3 - 0.2</code> evaluates to <code>0.09999999999999998</code></p>
<p>In general a 64-bit float will be exact for about 15 decimal places.</p>

      </section><section class="slide" id="slide-5-6">
        <h2 id="float">float</h2>
<p><em>IEEE 754</em>: standardized floating point arithmetic</p>
<p>Python mostly acts as defined in the standard</p>
<p>deviation from the standard: in some cases Python will throw exceptions where the standard produces a result - e.g. <code>1.0/0.0</code></p>
<p>Special numbers in IEEE 754:</p>
<ul>
<li><code>inf</code> and <code>-inf</code> (infinite values)</li>
<li><code>nan</code> (not-a-number: undefined / unknown value)</li>
</ul>

      </section><section class="slide" id="slide-5-7">
        <h2 id="complex">complex</h2>
<pre><code class="language-py">a = <span class="hljs-number">2</span> + <span class="hljs-number">3j</span></code></pre>

      </section><section class="slide" id="slide-5-8">
        <h2 id="augmented-assignment">Augmented assignment</h2>
<p>For binary operators there are so-called <em>augmented assignments</em>:</p>
<pre><code class="language-py">a = a + <span class="hljs-number">1</span></code></pre>
<p>short form (augmented assignment):</p>
<pre><code class="language-py">a += <span class="hljs-number">1</span></code></pre>

      </section><section class="slide" id="slide-5-9">
        <h2 id="operations-with-numbers">Operations with numbers</h2>
<ul>
<li>Integer division: <code>10 // 3</code></li>
<li>Remainder: <code>10 % 3</code></li>
<li>Power: <code>2 ** 3</code></li>
</ul>

      </section></section><section class="section" id="section-6"><section class="slide" id="slide-6-1">
        <h1 id="character-encodings">Character encodings</h1>

      </section><section class="slide" id="slide-6-2">
        <h2 id="unicode-characters">Unicode characters</h2>
<p><em>Unicode</em>: catalog of over 100,000 international characters, each with a unique identifying name and number (usually written in hexadecimal)</p>
<p>examples:</p>
<ul>
<li><em>K</em>: U+004B (<em>Latin capital letter K</em>)</li>
<li><em>?</em>: U+003F (<em>Question mark</em>)</li>
<li><em>√§</em>: U+00E4 (<em>Latin small letter a with a diaeresis</em>)</li>
<li><em>‚Ç¨</em>: U+20AC (<em>Euro sign</em>)</li>
<li>üôÇ: U+1F642 (<em>Slightly smiling face</em>)</li>
</ul>
<p><a href="https://en.wikibooks.org/wiki/Unicode/Character_reference">tables of all Unicode characters</a></p>

      </section><section class="slide" id="slide-6-3">
        <h2 id="character-encodings">Character encodings</h2>
<p><em>Character encoding</em> = mapping of characters to bit sequences</p>
<ul>
<li><em>ASCII</em>: encodes the first 128 Unicode characters, can represent characters like <em>A</em>, <em>!</em>, <em>$</em>, <em>space</em>, <em>line break</em></li>
<li><em>Latin1</em>: encodes the first 256 Unicode characters, can represent ASCII characters and characters like <em>√§</em>, <em>√°</em>, <em>√ü</em>, <em>¬ß</em></li>
<li><em>UTF-8</em>, <em>UTF-16</em>, <em>UTF-32</em>: encode all Unicode characters</li>
</ul>
<p>A character encoding is necessary in order to write text to disk or transfer it over the network</p>

      </section><section class="slide" id="slide-6-4">
        <h2 id="character-encodings">Character encodings</h2>
<p>Examples in ASCII / Latin1 / UTF-8:</p>
<ul>
<li><code>!</code> ‚Üî <code>00100001</code></li>
<li><code>A</code> ‚Üî <code>01000001</code></li>
<li><code>a</code> ‚Üî <code>01100001</code></li>
</ul>
<p>Examples in Latin1:</p>
<ul>
<li><code>√Ñ</code> ‚Üî <code>11000100</code></li>
</ul>
<p>Examples in UTF-8:</p>
<ul>
<li><code>√Ñ</code> ‚Üî <code>11000011 10100100</code></li>
<li><code>üôÇ</code> ‚Üî <code>11110000 10011111 10011001 10000010</code></li>
</ul>

      </section><section class="slide" id="slide-6-5">
        <h2 id="utf-8">UTF-8</h2>
<p>In many areas (in particular on the web) <em>UTF-8</em> has become the standard text encoding</p>
<p>In UTF-8 the first 128 Unicode characters can be encoded in just 8 bit</p>
<p>All other characters need either 16, 24 or 32 bit</p>

      </section><section class="slide" id="slide-6-6">
        <h2 id="utf-32">UTF-32</h2>
<p>UTF-32 encodes the Unicode code points directly</p>
<p>Depending on the area of application the byte order may differ (big endian or little endian)</p>
<p>example:</p>
<p>üôÇ (U+1F642) ‚Üî <code>00 01 F6 42</code> (big endian) or <code>42 F6 01 00</code> (little endian)</p>

      </section><section class="slide" id="slide-6-7">
        <h2 id="line-breaks">Line breaks</h2>
<p>Line breaks can be represented by the characters <code>LF</code> (line feed, <code>U+000A</code>) and / or <code>CR</code> (carriage return, <code>U+000D</code>)</p>
<ul>
<li><code>LF</code>: Standard on Linux, MacOS</li>
<li><code>CRLF</code>: Standard on Windows, in network protocols like HTTP</li>
</ul>
<p>In string literals <code>LF</code> is often represented by <code>\n</code> and <code>CR</code> is represented by <code>\r</code></p>

      </section></section><section class="section" id="section-7"><section class="slide" id="slide-7-1">
        <h1 id="strings">Strings</h1>

      </section><section class="slide" id="slide-7-2">
        <h2 id="strings">Strings</h2>
<p>In Python 3 strings are sequences of Unicode characters</p>

      </section><section class="slide" id="slide-7-3">
        <h2 id="string-literals">String literals</h2>
<p>Examples:</p>
<pre><code class="language-py">a = <span class="hljs-string">"test"</span>
b = <span class="hljs-string">'test'</span></code></pre>

      </section><section class="slide" id="slide-7-4">
        <h2 id="multi-line-string-literals">Multi-line string literals</h2>
<pre><code class="language-py">a = <span class="hljs-string">"""this
is a multi-line
string literal.
"""</span></code></pre>

      </section><section class="slide" id="slide-7-5">
        <h2 id="escape-sequences">Escape sequences</h2>
<p>Some characters may be entered via so-called <em>escape sequences</em>:</p>
<pre><code class="language-py">a = <span class="hljs-string">"He said:\n\"Hi!\""</span></code></pre>

      </section><section class="slide" id="slide-7-6">
        <h2 id="escape-sequences">Escape sequences</h2>
<ul>
<li><code>\&#39;</code> ‚Üí <code>&#39;</code></li>
<li><code>\&quot;</code> ‚Üí <code>&quot;</code></li>
<li><code>\\</code> ‚Üí <code>\</code></li>
<li><code>\n</code> ‚Üí Line Feed (line separator on Unix)</li>
<li><code>\r\n</code> ‚Üí Carriage Return + Line Feed (line separator on Windows)</li>
<li><code>\t</code> ‚Üí Tab</li>
<li><code>\xHH</code> or <code>\uHHHH</code> or <code>\UHHHHHHHH</code> ‚Üí Unicode-Codepoint (hexadecimal)</li>
</ul>

      </section><section class="slide" id="slide-7-7">
        <h2 id="raw-strings">Raw Strings</h2>
<p>If we don&#39;t need to use any escape sequences in a string:</p>
<pre><code class="language-py">path = <span class="hljs-string">r"C:\documents\foo\news.txt"</span></code></pre>
<p>This can be useful when writing Windows paths and regular expressions</p>

      </section><section class="slide" id="slide-7-8">
        <h2 id="string-methods">String methods</h2>
<ul>
<li><code>.lower()</code></li>
<li><code>.upper()</code></li>
</ul>

      </section><section class="slide" id="slide-7-9">
        <h2 id="string-methods">String methods</h2>
<ul>
<li><code>.startswith(...)</code></li>
<li><code>.endswith(&quot;.txt&quot;)</code></li>
</ul>

      </section><section class="slide" id="slide-7-10">
        <h2 id="string-methods">String methods</h2>
<ul>
<li><code>.center(10)</code></li>
<li><code>.ljust(10)</code></li>
<li><code>.rjust(10)</code></li>
</ul>

      </section><section class="slide" id="slide-7-11">
        <h2 id="string-methods">String methods</h2>
<ul>
<li><code>.strip()</code></li>
<li><code>.split(&#39; &#39;)</code></li>
<li><code>.splitlines()</code></li>
<li><code>.join()</code></li>
</ul>

      </section><section class="slide" id="slide-7-12">
        <h2 id="exercise-formatting-othello">Exercise: formatting Othello</h2>
<p>Source:</p>
<p><a href="http://www.gutenberg.org/cache/epub/2267/pg2267.txt">http://www.gutenberg.org/cache/epub/2267/pg2267.txt</a></p>
<p>tasks:</p>
<ul>
<li>remove leading whitespace of each line</li>
<li>add a line number to the end of each line and place the line number right-aligned at character 70</li>
<li>(place line numbers only in every 5th line)</li>
<li>(instead of placing line numbers at character 70, use the longest line as a reference)</li>
</ul>

      </section></section><section class="section" id="section-8"><section class="slide" id="slide-8-1">
        <h1 id="string-formatting">String formatting</h1>

      </section><section class="slide" id="slide-8-2">
        <h2 id="string-formatting">String formatting</h2>
<p>String formatting = placing values in strings</p>
<p>Methods:</p>
<pre><code class="language-py">greeting = <span class="hljs-string">"Hello, "</span> + name + <span class="hljs-string">"!"</span></code></pre>
<pre><code class="language-py">greeting = <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>!"</span></code></pre>

      </section><section class="slide" id="slide-8-3">
        <h2 id="string-formatting-methods">String formatting: methods</h2>
<pre><code class="language-py">city = <span class="hljs-string">'Vienna'</span>
temperature = <span class="hljs-number">23.7</span>

<span class="hljs-comment"># rather obsolete</span>
<span class="hljs-string">'weather in %s: %f¬∞C'</span> % (city, temperature)

<span class="hljs-string">'weather in {0}: {1}¬∞C'</span>.format(city, temperature)
<span class="hljs-string">'weather in {}: {}¬∞C'</span>.format(city, temperature)
<span class="hljs-string">'weather in {c}: {t}¬∞C'</span>.format(c=city, t=temperature)

<span class="hljs-string">f'weather in <span class="hljs-subst">{city}</span>: <span class="hljs-subst">{temperature}</span>¬∞C'</span></code></pre>

      </section><section class="slide" id="slide-8-4">
        <h2 id="format-specification">Format specification</h2>
<pre><code class="language-py">t = <span class="hljs-number">333.333</span>
<span class="hljs-string">f'<span class="hljs-subst">{t:<span class="hljs-number">.4</span>f}</span>¬∞K'</span> <span class="hljs-comment"># 333.3330¬∞K</span>
<span class="hljs-string">f'<span class="hljs-subst">{t:<span class="hljs-number">.4</span>g}</span>¬∞K'</span> <span class="hljs-comment"># 333.3¬∞K</span></code></pre>
<p><a href="https://mkaz.blog/code/python-string-format-cookbook/">https://mkaz.blog/code/python-string-format-cookbook/</a></p>

      </section></section><section class="section" id="section-9"><section class="slide" id="slide-9-1">
        <h1 id="lists">Lists</h1>

      </section><section class="slide" id="slide-9-2">
        <h2 id="lists">Lists</h2>
<p>Lists are mutable sequences of objects; they are usually used to store homogenous entries of the same type and structure</p>
<pre><code class="language-py">primes = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]

users = [<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>]</code></pre>

      </section><section class="slide" id="slide-9-3">
        <h2 id="operations-on-lists">Operations on lists</h2>
<p>The following operations will also work on other <em>sequences</em> - e.g. tuples, strings or bytes</p>
<ul>
<li>accessing elements (via index): <code>users[2]</code></li>
<li>accessing multiple elements (sublist): <code>users[2:4]</code></li>
<li>concatenation: <code>users + users</code></li>
<li>repetition: <code>3 * users</code></li>
<li>length: <code>len(users)</code></li>
<li>for loop: <code>for user in users:</code></li>
<li>if clause : <code>if &#39;Tim&#39; in users:</code></li>
</ul>

      </section><section class="slide" id="slide-9-4">
        <h2 id="operations-on-lists---mutations">Operations on lists - mutations</h2>
<p>Lists are the only sequences that can be mutated:</p>
<ul>
<li>appending: <code>users.append(&quot;Dan&quot;)</code></li>
<li>removing the last element: <code>users.pop()</code></li>
<li>removing an element by index: <code>users.pop(2)</code></li>
</ul>

      </section><section class="slide" id="slide-9-5">
        <h2 id="sorting-lists">Sorting lists</h2>
<pre><code class="language-py">l.sort()</code></pre>
<pre><code class="language-py">l.sort(key=...)</code></pre>

      </section><section class="slide" id="slide-9-6">
        <h2 id="exercises">Exercises</h2>
<ul>
<li>shuffling cards</li>
<li>list of prime numbers</li>
</ul>

      </section></section><section class="section" id="section-10"><section class="slide" id="slide-10-1">
        <h1 id="tuples">Tuples</h1>

      </section><section class="slide" id="slide-10-2">
        <h2 id="tuples">Tuples</h2>
<pre><code class="language-py">date = (<span class="hljs-number">1973</span>, <span class="hljs-number">10</span>, <span class="hljs-number">23</span>)</code></pre>
<ul>
<li>area of application: similar to dicts</li>
<li>behavior: similar to lists</li>
</ul>

      </section><section class="slide" id="slide-10-3">
        <h2 id="tuples">Tuples</h2>
<p>Area of application: similar to dicts:</p>
<pre><code class="language-py">point_dict = {<span class="hljs-string">"x"</span>: <span class="hljs-number">2</span>, <span class="hljs-string">"y"</span>: <span class="hljs-number">4</span>}
point_tuple = (<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)

date_dict = {
  <span class="hljs-string">"year"</span>: <span class="hljs-number">1973</span>,
  <span class="hljs-string">"month"</span>: <span class="hljs-number">10</span>,
  <span class="hljs-string">"day"</span>: <span class="hljs-number">23</span>
}
date_tuple = (<span class="hljs-number">1973</span>, <span class="hljs-number">10</span>, <span class="hljs-number">23</span>)</code></pre>
<p>Each entry in a tuple has a specific meaning</p>

      </section><section class="slide" id="slide-10-4">
        <h2 id="tuples">Tuples</h2>
<p>Behavior: similar to lists:</p>
<pre><code class="language-py">date_tuple[<span class="hljs-number">0</span>] <span class="hljs-comment"># 1973</span>
len(date_tuple) <span class="hljs-comment"># 3</span></code></pre>
<p>Unlike lists, tuples are immutable (no <code>.append</code> / <code>.pop</code> / ...)</p>

      </section><section class="slide" id="slide-10-5">
        <h2 id="creating-tuples">Creating tuples</h2>
<p>Entries are separated by commas, usually surrounded by round brackets.</p>
<pre><code class="language-py">empty_tuple = ()
single_value = (<span class="hljs-string">'Thomas'</span>, )
two_values = (<span class="hljs-string">'Thomas'</span>, <span class="hljs-string">'Smith'</span>)
two_values = <span class="hljs-string">'Thomas'</span>, <span class="hljs-string">'Smith'</span></code></pre>

      </section><section class="slide" id="slide-10-6">
        <h2 id="unpacking-of-tuples">Unpacking (of tuples)</h2>
<pre><code class="language-py">time = (<span class="hljs-number">23</span>, <span class="hljs-number">45</span>, <span class="hljs-number">0</span>)

hour, minute, second = time</code></pre>
<p>swapping variables:</p>
<pre><code class="language-py">a, b = b, a</code></pre>

      </section></section><section class="section" id="section-11"><section class="slide" id="slide-11-1">
        <h1 id="bytes">Bytes</h1>

      </section><section class="slide" id="slide-11-2">
        <h2 id="bytes">Bytes</h2>
<p>= Sequence of numbers in the range of 0 to 255</p>
<pre><code class="language-py">m = bytes([<span class="hljs-number">0</span>, <span class="hljs-number">0x40</span>, <span class="hljs-number">0x70</span>, <span class="hljs-number">0xa0</span>])</code></pre>
<pre><code>m[1] == 64
m[2] == 160</code></pre>
      </section><section class="slide" id="slide-11-3">
        <h2 id="bytes">Bytes</h2>
<p>Standard representation in Python:</p>
<pre><code class="language-py">print(bytes([<span class="hljs-number">0x00</span>, <span class="hljs-number">0x40</span>, <span class="hljs-number">0x70</span>, <span class="hljs-number">0xa0</span>]))</code></pre>
<pre><code class="language-py"><span class="hljs-string">b'\x00@p\xa0'</span></code></pre>
<p>Where possible, bytes will be represented by ASCII characters; otherwise their hex code will be shown</p>
<p>The <code>b</code> signifies a byte string literal</p>

      </section><section class="slide" id="slide-11-4">
        <h2 id="bytes-and-strings">Bytes and Strings</h2>
<p>Bytes can hold arbitrary data, but often they will hold encoded text</p>
<p>If we know the encoding we can convert between bytes and strings:</p>
<pre><code class="language-py"><span class="hljs-string">'√§'</span>.encode(<span class="hljs-string">'utf-8'</span>)
<span class="hljs-comment"># b'\xc3\xa4'</span></code></pre>
<pre><code class="language-py"><span class="hljs-string">b'\xc3\xa4'</span>.decode(<span class="hljs-string">'utf-8'</span>)
<span class="hljs-comment"># '√§'</span></code></pre>

      </section><section class="slide" id="slide-11-5">
        <h2 id="bytes-and-strings">Bytes and Strings</h2>
<p>Storage media and networks will only handle bytes; in order to read a text file from disk or from the network we need to know / specify the encoding</p>

      </section></section><section class="section" id="section-12"><section class="slide" id="slide-12-1">
        <h1 id="sequences">Sequences</h1>

      </section><section class="slide" id="slide-12-2">
        <h2 id="sequences">Sequences</h2>
<p>Python Sequences consist of other Python objects</p>
<p>examples:</p>
<ul>
<li>lists</li>
<li>tuples</li>
<li>strings</li>
<li>bytes</li>
</ul>

      </section><section class="slide" id="slide-12-3">
        <h2 id="operations-on-sequences">Operations on sequences</h2>
<ul>
<li>accessing elements (via index): <code>s[2]</code></li>
<li>accessing multiple elements: <code>s[2:4]</code></li>
<li>concatenation: <code>s + t</code></li>
<li>repetition: <code>3 * s</code></li>
<li>length: <code>len(s)</code></li>
<li>for loop: <code>for el in s:</code></li>
<li>if clause : <code>if el in s:</code></li>
</ul>

      </section><section class="slide" id="slide-12-4">
        <h2 id="operations">Operations</h2>
<p>Accessing elements</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

users[<span class="hljs-number">0</span>] <span class="hljs-comment"># 'mike'</span>
users[<span class="hljs-number">-1</span>] <span class="hljs-comment"># 'theresa'</span></code></pre>

      </section><section class="slide" id="slide-12-5">
        <h2 id="operations">Operations</h2>
<p>Changing elements</p>
<p>(if the sequence is mutable)</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

users[<span class="hljs-number">0</span>] = <span class="hljs-string">'molly'</span></code></pre>

      </section><section class="slide" id="slide-12-6">
        <h2 id="operations">Operations</h2>
<p>Accessing multiple elements</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

users[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>] <span class="hljs-comment"># ['mike', 'tim']</span></code></pre>

      </section><section class="slide" id="slide-12-7">
        <h2 id="operations">Operations</h2>
<p>Concatenation</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

new_users = users + [<span class="hljs-string">'tina'</span>, <span class="hljs-string">'michelle'</span>]</code></pre>

      </section><section class="slide" id="slide-12-8">
        <h2 id="operations">Operations</h2>
<p>Repetition</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

new_users = users * <span class="hljs-number">3</span></code></pre>

      </section><section class="slide" id="slide-12-9">
        <h2 id="operations">Operations</h2>
<p>Length</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

print(len(users))</code></pre>

      </section><section class="slide" id="slide-12-10">
        <h2 id="operations">Operations</h2>
<p>for loop</p>
<pre><code class="language-py">users = [<span class="hljs-string">'mike'</span>, <span class="hljs-string">'tim'</span>, <span class="hljs-string">'theresa'</span>]

<span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users:
    print(user.upper())</code></pre>

      </section></section><section class="section" id="section-13"><section class="slide" id="slide-13-1">
        <h1 id="dictionaries">Dictionaries</h1>

      </section><section class="slide" id="slide-13-2">
        <h2 id="dictionaries">Dictionaries</h2>
<p>Dictionaries are mappings of keys to values</p>
<pre><code class="language-py">person = {
    <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"John"</span>,
    <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Doe"</span>,
    <span class="hljs-string">"nationality"</span>: <span class="hljs-string">"Canada"</span>,
    <span class="hljs-string">"birth_year"</span>: <span class="hljs-number">1980</span>
}</code></pre>

      </section><section class="slide" id="slide-13-3">
        <h2 id="dictionaries">Dictionaries</h2>
<p>Accessing entries</p>
<pre><code class="language-py">person[<span class="hljs-string">"first_name"</span>] <span class="hljs-comment"># "John"</span></code></pre>

      </section><section class="slide" id="slide-13-4">
        <h2 id="dictionaries">Dictionaries</h2>
<p>Iterating over dictionaries</p>
<pre><code class="language-py"><span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> person:
    print(entry)</code></pre>
<p>This will yield the keys: <code>&quot;first_name&quot;</code>, <code>&quot;last_name&quot;</code>, <code>&quot;nationality&quot;</code>, <code>&quot;birth_year&quot;</code></p>
<p>Since Python 3.7 the keys will always remain in insertion order</p>

      </section><section class="slide" id="slide-13-5">
        <h2 id="dictionaries">Dictionaries</h2>
<p>Iterating over key-value-pairs:</p>
<pre><code class="language-py"><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> person.items():
    print(<span class="hljs-string">f'<span class="hljs-subst">{key}</span>, <span class="hljs-subst">{value}</span>'</span>)</code></pre>
<p>see also: tuples</p>

      </section><section class="slide" id="slide-13-6">
        <h2 id="operations-on-dictionaries">Operations on dictionaries</h2>
<pre><code class="language-py">d = {<span class="hljs-number">0</span>: <span class="hljs-string">'zero'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'one'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'two'</span>}

d[<span class="hljs-number">2</span>]
d[<span class="hljs-number">2</span>] = <span class="hljs-string">'TWO'</span>
d[<span class="hljs-number">3</span>] <span class="hljs-comment"># KeyError</span>
d.get(<span class="hljs-number">3</span>) <span class="hljs-comment"># None</span>

d.keys()
d.items()

d1.update(d2)</code></pre>

      </section><section class="slide" id="slide-13-7">
        <h2 id="valid-keys">Valid keys</h2>
<p>Any immutable object can act as a dictionary key. The most common types of keys are strings.</p>

      </section><section class="slide" id="slide-13-8">
        <h2 id="exercises">Exercises</h2>
<ul>
<li>vocabulary trainer<ul>
<li>read a (JSON) file</li>
<li>create a data model with dictionaries</li>
<li>randomly pick an entry</li>
</ul>
</li>
<li>todo list</li>
</ul>

      </section></section><section class="section" id="section-14"><section class="slide" id="slide-14-1">
        <h1 id="comprehensions">Comprehensions</h1>

      </section><section class="slide" id="slide-14-2">
        <h2 id="list-comprehensions">List comprehensions</h2>
<p><em>List comprehensions</em> enable the creation of lists based on existing lists</p>
<p>In other programming languages this is often done via <code>map</code> and <code>filter</code></p>

      </section><section class="slide" id="slide-14-3">
        <h2 id="list-comprehensions">List comprehensions</h2>
<p><em>Transforming each entry</em>:</p>
<pre><code class="language-py">names = [<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"Charlie"</span>]

uppercase_names = [name.upper() <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> names]</code></pre>
<p>result:</p>
<pre><code class="language-py">[<span class="hljs-string">"ALICE"</span>, <span class="hljs-string">"BOB"</span>, <span class="hljs-string">"CHARLIE"</span>]</code></pre>

      </section><section class="slide" id="slide-14-4">
        <h2 id="list-comprehensions">List comprehensions</h2>
<p><em>Filtering</em>:</p>
<pre><code class="language-py">amounts = [<span class="hljs-number">10</span>, <span class="hljs-number">-7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19</span>, <span class="hljs-number">-2</span>]

positive_amounts = [amount <span class="hljs-keyword">for</span> amount <span class="hljs-keyword">in</span> amounts <span class="hljs-keyword">if</span> amount &gt; <span class="hljs-number">0</span>]</code></pre>
<p>result:</p>
<pre><code class="language-py">[<span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19</span>]</code></pre>

      </section><section class="slide" id="slide-14-5">
        <h2 id="list-comprehensions">List comprehensions</h2>
<p>Generic syntax:</p>
<pre><code class="language-py">new_list = [new_entry <span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> old_list]

new_list = [new_entry <span class="hljs-keyword">for</span> entry <span class="hljs-keyword">in</span> old_list <span class="hljs-keyword">if</span> condition]</code></pre>

      </section><section class="slide" id="slide-14-6">
        <h2 id="dictionary-comprehensions">Dictionary comprehensions</h2>
<pre><code class="language-py">colors: {
  <span class="hljs-string">'red'</span>: <span class="hljs-string">'#ff0000'</span>,
  <span class="hljs-string">'blue'</span>: <span class="hljs-string">'#0000ff'</span>,
  <span class="hljs-string">'green'</span>: <span class="hljs-string">'#008000'</span>
}

m_colors = { color: colors[color][<span class="hljs-number">1</span>:] <span class="hljs-keyword">for</span> color <span class="hljs-keyword">in</span> colors}</code></pre>

      </section><section class="slide" id="slide-14-7">
        <h2 id="exercises">Exercises</h2>
<ul>
<li>todo list: add functionality to remove completed entries</li>
</ul>

      </section></section><section class="section" id="section-15"><section class="slide" id="slide-15-1">
        <h1 id="object-oriented-programming-and-classes">Object-oriented programming and classes</h1>

      </section><section class="slide" id="slide-15-2">
        <h2 id="object-orientation-in-python-everything-is-an-object">Object orientation in Python: &quot;Everything is an object&quot;</h2>
<pre><code class="language-py">a = <span class="hljs-number">20</span>

a.to_bytes(<span class="hljs-number">1</span>, <span class="hljs-string">"big"</span>)

<span class="hljs-string">"hello"</span>.upper()</code></pre>

      </section><section class="slide" id="slide-15-3">
        <h2 id="types-and-instances">Types and instances</h2>
<pre><code class="language-py">message = <span class="hljs-string">"hello"</span>

type(message)

isinstance(message, str)</code></pre>

      </section><section class="slide" id="slide-15-4">
        <h2 id="classes">Classes</h2>
<p>Classes may represent <em>various</em> things, e.g.:</p>
<ul>
<li>a Message inside an e-mail program</li>
<li>a user of a website</li>
<li>a car in a racing game</li>
<li>a shopping basket in an online shop</li>
<li>a bank account</li>
<li>...</li>
</ul>

      </section><section class="slide" id="slide-15-5">
        <h2 id="classes">Classes</h2>
<p>The definition of a class usually encompasses:</p>
<ul>
<li>a &quot;data structure&quot; (attributes)</li>
<li>a &quot;behavior&quot; (methods)</li>
</ul>

      </section><section class="slide" id="slide-15-6">
        <h2 id="classes">Classes</h2>
<p>example: class <code>BankAccount</code></p>
<ul>
<li>&quot;data structure&quot; (attributes)</li>
<li>&quot;behavior&quot; (methods)</li>
</ul>

      </section><section class="slide" id="slide-15-7">
        <h2 id="defining-classes">Defining classes</h2>
<pre><code class="language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyClass</span><span class="hljs-params">()</span>:</span>

    <span class="hljs-comment"># the method __init__ initializes the object</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># inside any method, self will refer</span>
        <span class="hljs-comment"># to the current instance of the class</span>
        self.message = <span class="hljs-string">"hello"</span>

instance = MyClass()
instance.message <span class="hljs-comment"># "hello"</span></code></pre>

      </section><section class="slide" id="slide-15-8">
        <h2 id="inheritance">Inheritance</h2>
<pre><code class="language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span><span class="hljs-params">()</span>:</span>
    ...

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Admin</span><span class="hljs-params">(Person)</span>:</span>
    ...</code></pre>

      </section><section class="slide" id="slide-15-9">
        <h2 id="example-class-length">Example: class &quot;Length&quot;</h2>
<pre><code class="language-py">a = Length(<span class="hljs-number">2.54</span>, <span class="hljs-string">"cm"</span>)
b = Length(<span class="hljs-number">3</span>, <span class="hljs-string">"in"</span>)

a.unit
a.value</code></pre>

      </section><section class="slide" id="slide-15-10">
        <h2 id="exercise-classes-todolist-and-todo">Exercise: classes &quot;TodoList&quot; and &quot;Todo&quot;</h2>
<pre><code class="language-py">tdl = TodoList(<span class="hljs-string">"groceries"</span>)

tdl.add(<span class="hljs-string">"milk"</span>)
tdl.add(<span class="hljs-string">"bread"</span>)

print(tdl.todos)
tdl.todos[<span class="hljs-number">0</span>].toggle()

tdl.stats() <span class="hljs-comment"># {open: 1, completed: 1}</span></code></pre>

      </section></section><section class="section" id="section-16"><section class="slide" id="slide-16-1">
        <h1 id="control-structures">Control structures</h1>

      </section><section class="slide" id="slide-16-2">
        <h2 id="control-structures">Control structures</h2>
<ul>
<li><code>if</code></li>
<li>loops<ul>
<li><code>while</code></li>
<li><code>for ... in ...</code></li>
<li><code>for ... in range()</code></li>
</ul>
</li>
<li><code>try ... except ...</code></li>
</ul>

      </section></section><section class="section" id="section-17"><section class="slide" id="slide-17-1">
        <h1 id="if">if</h1>

      </section><section class="slide" id="slide-17-2">
        <h2 id="if">if</h2>
<p>From a previous example:</p>
<pre><code class="language-py"><span class="hljs-keyword">if</span> age_seconds &lt; <span class="hljs-number">1000000000</span>:
    print(<span class="hljs-string">"You are less than 1 billion seconds old"</span>)
<span class="hljs-keyword">else</span>:
    print(<span class="hljs-string">"You are older than 1 billion seconds"</span>)</code></pre>

      </section><section class="slide" id="slide-17-3">
        <h2 id="conditions">Conditions</h2>
<p>When using conditions for <code>if</code> / <code>while</code> we usually use expressions that evaluate to boolean values.</p>
<p>However, we can also use other types:</p>
<pre><code class="language-py">a = <span class="hljs-number">0</span>
<span class="hljs-keyword">if</span> a: ...

name = input(<span class="hljs-string">"enter your name"</span>)
<span class="hljs-keyword">if</span> name: ...

products = []
<span class="hljs-keyword">if</span> products: ...</code></pre>
<p>These types are converted to boolean values before being used as criteria for the if condition.</p>

      </section><section class="slide" id="slide-17-4">
        <h2 id="conditions">Conditions</h2>
<p>Any value may be used as a condition in Python. Most values will be &quot;truthy&quot;.</p>
<p>Only these values are considered &quot;falsy&quot; - calling <code>bool(...)</code> will return <code>False</code>:</p>
<ul>
<li><code>False</code></li>
<li><code>0</code>, <code>0.0</code></li>
<li><code>None</code></li>
<li>empty collections / sequences (<code>&quot;&quot;</code>, <code>[]</code>, <code>()</code>, <code>{}</code>)</li>
<li>(before Python 3.5: <code>datetime.time(0, 0, 0)</code>)</li>
</ul>

      </section><section class="slide" id="slide-17-5">
        <h2 id="conditions">Conditions</h2>
<p>Not &quot;pythonic&quot;:</p>
<pre><code class="language-py">name = input(<span class="hljs-string">"Enter your name:"</span>)
<span class="hljs-keyword">if</span> name != <span class="hljs-string">""</span>:
    ...</code></pre>
<p>&quot;pythonic&quot; version:</p>
<pre><code class="language-py">name = input(<span class="hljs-string">"Enter your name:"</span>)
<span class="hljs-keyword">if</span> name:
    ...</code></pre>

      </section><section class="slide" id="slide-17-6">
        <h2 id="if-expressions">if expressions</h2>
<p>An expression that evaluates to one of two possibilities based on a boolean criterion</p>
<pre><code class="language-py">size = <span class="hljs-string">'small'</span> <span class="hljs-keyword">if</span> length &lt; <span class="hljs-number">110</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'big'</span></code></pre>
<p>in other languages this could be written as:</p>
<pre><code class="language-js"><span class="hljs-comment">// JavaScript</span>
size = length &lt; <span class="hljs-number">110</span> ? <span class="hljs-string">'small'</span> : <span class="hljs-string">'big'</span>;</code></pre>

      </section></section><section class="section" id="section-18"><section class="slide" id="slide-18-1">
        <h1 id="for-loops">For loops</h1>

      </section><section class="slide" id="slide-18-2">
        <h2 id="itertools">Itertools</h2>
<p>Itertools: Module for creating iterable elements</p>
<p>Example:</p>
<pre><code class="language-py"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> count():
    print(i)
    <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-number">5</span>:
        <span class="hljs-keyword">break</span>

<span class="hljs-comment"># 0 1 2 3 4 5</span></code></pre>

      </section><section class="slide" id="slide-18-3">
        <h2 id="for-loops-with-tuple-unpacking">For loops with tuple unpacking</h2>
<p>Recap: tuple unpacking</p>
<pre><code class="language-py">time = (<span class="hljs-number">23</span>, <span class="hljs-number">45</span>, <span class="hljs-number">0</span>)

hour, minute, second = time</code></pre>

      </section><section class="slide" id="slide-18-4">
        <h2 id="for-loops-with-tuple-unpacking">For loops with tuple unpacking</h2>
<p>Enumerating list items:</p>
<pre><code class="language-py">l = [<span class="hljs-string">'Alice'</span>, <span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Charlie'</span>]

<span class="hljs-keyword">for</span> i, name <span class="hljs-keyword">in</span> enumerate(l):
    print(<span class="hljs-string">f'<span class="hljs-subst">{i}</span>: <span class="hljs-subst">{name}</span>'</span>)</code></pre>
<p>Enumerate returns a data structure that behaves like this list:</p>
<pre><code class="language-py">[(<span class="hljs-number">0</span>, <span class="hljs-string">'Alice'</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">'Bob'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'Charlie'</span>)]</code></pre>

      </section><section class="slide" id="slide-18-5">
        <h2 id="for-loops-with-tuple-unpacking">For loops with tuple unpacking</h2>
<p>Listing directory contents (including subfolders) via <code>os.walk</code>:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> os

<span class="hljs-keyword">for</span> directory, dirs, files <span class="hljs-keyword">in</span> os.walk(<span class="hljs-string">"C:\\"</span>):
    print(<span class="hljs-string">f"<span class="hljs-subst">{directory}</span> <span class="hljs-subst">{files}</span>"</span>)</code></pre>
<pre><code>C:\ []
C:\PerfLogs []
C:\Program Files []
C:\ProgramData []
...</code></pre>
      </section></section><section class="section" id="section-19"><section class="slide" id="slide-19-1">
        <h1 id="exceptions">Exceptions</h1>

      </section><section class="slide" id="slide-19-2">
        <h2 id="types-of-exceptions">Types of exceptions</h2>
<ul>
<li>AttributeError, IndexError, KeyError</li>
<li>NameError</li>
<li>TypeError</li>
<li>ValueError</li>
<li>IOError</li>
<li>ZeroDivisionError</li>
<li>...</li>
</ul>
<p>Exercise: try and trigger all of the above exceptions</p>

      </section><section class="slide" id="slide-19-3">
        <h2 id="catching-exceptions">Catching exceptions</h2>
<pre><code class="language-py">age_str = input(<span class="hljs-string">"Enter your age"</span>)
<span class="hljs-keyword">try</span>:
    age = int(age_str)
<span class="hljs-keyword">except</span> ValueError:
    print(<span class="hljs-string">"Could not parse input as number"</span>)</code></pre>

      </section><section class="slide" id="slide-19-4">
        <h2 id="catching-exceptions">Catching exceptions</h2>
<pre><code class="language-py">age_str = input(<span class="hljs-string">"Enter your age"</span>)
<span class="hljs-keyword">try</span>:
    age = int(age_str)
<span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:
    print(<span class="hljs-string">"Could not parse input as number"</span>)
    print(e)
    print(e.args)</code></pre>

      </section><section class="slide" id="slide-19-5">
        <h2 id="catching-exceptions">Catching exceptions</h2>
<p>Catching multiple types of exceptions:</p>
<pre><code class="language-py"><span class="hljs-keyword">try</span>:
    file = open(<span class="hljs-string">"log.txt"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
<span class="hljs-keyword">except</span> FileNotFoundError:
    print(<span class="hljs-string">"could not find log file"</span>)
<span class="hljs-keyword">except</span> PermissionError:
    print(<span class="hljs-string">"reading of file is not permitted"</span>)
<span class="hljs-keyword">except</span> Exception:
    print(<span class="hljs-string">"error when reading file"</span>)</code></pre>

      </section><section class="slide" id="slide-19-6">
        <h2 id="catching-exceptions">Catching exceptions</h2>
<p>Using <code>finally</code>:</p>
<pre><code class="language-py"><span class="hljs-keyword">try</span>:
    file = open(<span class="hljs-string">"log.txt"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
    file.write(<span class="hljs-string">"abc"</span>)
    file.write(<span class="hljs-string">"def"</span>)
<span class="hljs-keyword">except</span> IOError:
    print(<span class="hljs-string">"Error when writing to file"</span>)
<span class="hljs-keyword">finally</span>:
    file.close()</code></pre>

      </section><section class="slide" id="slide-19-7">
        <h2 id="catching-exceptions">Catching exceptions</h2>
<p>Using <code>else</code>:</p>
<pre><code class="language-py"><span class="hljs-keyword">try</span>:
    file = open(<span class="hljs-string">"log.txt"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>)
<span class="hljs-keyword">except</span> IOError:
    print(<span class="hljs-string">"could not open file"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-comment"># no errors expected here</span>
    file.write(<span class="hljs-string">"abc"</span>)
    file.write(<span class="hljs-string">"def"</span>)
file.close()</code></pre>

      </section><section class="slide" id="slide-19-8">
        <h2 id="re-raising-exceptions">Re-raising exceptions</h2>
<pre><code class="language-py"><span class="hljs-keyword">try</span>:
    ...
<span class="hljs-keyword">except</span> ClientError <span class="hljs-keyword">as</span> e
    <span class="hljs-keyword">if</span> <span class="hljs-string">"DryRunOperation"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> str(e):
        <span class="hljs-keyword">raise</span></code></pre>

      </section><section class="slide" id="slide-19-9">
        <h2 id="python-philosophy-eafp">Python philosophy: EAFP</h2>
<p>LBYL: <em>Look before you leap</em></p>
<p>EAFP: <em>It&#39;s easier to ask for forgiveness than permission</em></p>
<p>(example: parsing numbers)</p>

      </section></section><section class="section" id="section-20"><section class="slide" id="slide-20-1">
        <h1 id="raising-exceptions">Raising exceptions</h1>

      </section><section class="slide" id="slide-20-2">
        <h2 id="raising-exceptions">Raising exceptions</h2>
<pre><code class="language-py"><span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">'test'</span>)</code></pre>

      </section><section class="slide" id="slide-20-3">
        <h2 id="re-raising-caught-exceptions">Re-raising caught exceptions</h2>
<pre><code class="language-py"><span class="hljs-keyword">try</span>:
    ...
<span class="hljs-keyword">except</span> ClientError <span class="hljs-keyword">as</span> e
    <span class="hljs-keyword">if</span> <span class="hljs-string">"DryRunOperation"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> str(e):
        <span class="hljs-keyword">raise</span></code></pre>

      </section><section class="slide" id="slide-20-4">
        <h2 id="custom-exceptions">Custom exceptions</h2>
<p>We can define custom exceptions as subclasses of other exception classes:</p>
<pre><code class="language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MoneyParseException</span><span class="hljs-params">(Exception)</span>:</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-keyword">raise</span> MoneyParseException()</code></pre>

      </section></section><section class="section" id="section-21"><section class="slide" id="slide-21-1">
        <h1 id="modules-and-packages">Modules and packages</h1>

      </section><section class="slide" id="slide-21-2">
        <h2 id="modules-and-packages">Modules and packages</h2>
<ul>
<li>Module = collection of Python objects that can be imported</li>
<li>Package = collection of modules</li>
</ul>
<p>(packages are actually a special type of modules)</p>

      </section><section class="slide" id="slide-21-3">
        <h2 id="example-imports">Example imports</h2>
<ul>
<li><code>urllib</code> = package</li>
<li><code>urllib.request</code> = module</li>
<li><code>urllib.request.urlopen</code> = function</li>
</ul>
<!-- list separator -->

<ul>
<li><code>sys</code> = module</li>
<li><code>sys.path</code> = object</li>
</ul>

      </section><section class="slide" id="slide-21-4">
        <h2 id="example-imports">Example imports</h2>
<p>Typical imports:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> module1
<span class="hljs-keyword">import</span> module2
<span class="hljs-keyword">from</span> package3 <span class="hljs-keyword">import</span> module3a, module3b
<span class="hljs-keyword">from</span> module4 <span class="hljs-keyword">import</span> object4a, object4b
<span class="hljs-keyword">from</span> package5.module5 <span class="hljs-keyword">import</span> object5a, object5b</code></pre>
<p>Specific examples:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> urllib <span class="hljs-keyword">import</span> request, response
<span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt, pi
<span class="hljs-keyword">from</span> http.client <span class="hljs-keyword">import</span> HTTPConnection, HTTPSConnection</code></pre>

      </section><section class="slide" id="slide-21-5">
        <h2 id="shorter-names-for-imports">Shorter names for imports</h2>
<p>Typically used in an interactive console to save keystrokes:</p>
<p>Short names:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> tkinter <span class="hljs-keyword">as</span> tk</code></pre>
<p>Importing everything from a module (usually not recommended):</p>
<pre><code class="language-py"><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> *</code></pre>

      </section><section class="slide" id="slide-21-6">
        <h2 id="automatic-import-of-submodules">Automatic import of submodules</h2>
<p>When importing <em>some</em> packages, submodules will be imported automatically.</p>
<p>Examples:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

os.path.join(...)
np.random.randint(<span class="hljs-number">10</span>)</code></pre>
<p>Counterexample - this will fail:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> urllib

urllib.request.urlopen(...)</code></pre>

      </section><section class="slide" id="slide-21-7">
        <h2 id="conventions-for-imports">Conventions for imports</h2>
<ul>
<li>all imports in a Python file <em>should</em> be at the start of the file</li>
<li>imports <em>should</em> be split into three groups:<ul>
<li>imports from the standard library</li>
<li>imports from other libraries</li>
<li>imports within the project</li>
</ul>
</li>
</ul>

      </section></section><section class="section" id="section-22"><section class="slide" id="slide-22-1">
        <h1 id="custom-modules">Custom modules</h1>

      </section><section class="slide" id="slide-22-2">
        <h2 id="custom-modules">Custom modules</h2>
<p>Goal: creating a custom module that can be used like this:</p>
<pre><code class="language-py"><span class="hljs-keyword">from</span> foo <span class="hljs-keyword">import</span> a, b</code></pre>

      </section><section class="slide" id="slide-22-3">
        <h2 id="custom-modules">Custom modules</h2>
<p>Simple module as a Python file:</p>
<pre><code class="language-py"><span class="hljs-comment"># foo.py</span>
a = <span class="hljs-number">1</span>
b = <span class="hljs-number">2</span></code></pre>

      </section><section class="slide" id="slide-22-4">
        <h2 id="custom-modules">Custom modules</h2>
<p>Module as a directory:</p>
<pre><code>- foo/
  - __init__.py</code></pre><pre><code class="language-py"><span class="hljs-comment"># __init__.py</span>
a = <span class="hljs-number">1</span>
b = <span class="hljs-number">2</span></code></pre>

      </section><section class="slide" id="slide-22-5">
        <h2 id="custom-modules">Custom modules</h2>
<p>Module as a directory with separated defintions:</p>
<pre><code>- foo/
  - __init__.py
  - _a_mod.py
  - _b_mod.py</code></pre><pre><code class="language-py"><span class="hljs-comment"># __init__.py</span>
<span class="hljs-keyword">from</span> _a_mod <span class="hljs-keyword">import</span> a
<span class="hljs-keyword">from</span> _b_mod <span class="hljs-keyword">import</span> b</code></pre>

      </section><section class="slide" id="slide-22-6">
        <h2 id="custom-packages">Custom packages</h2>
<p>Goal: creating a custom package that can be used like this:</p>
<pre><code class="language-py"><span class="hljs-keyword">from</span> foo <span class="hljs-keyword">import</span> bar

print(bar.a)
print(bar.b)</code></pre>

      </section><section class="slide" id="slide-22-7">
        <h2 id="custom-packages">Custom packages</h2>
<pre><code>- foo/
  - bar.py</code></pre>
      </section><section class="slide" id="slide-22-8">
        <h2 id="resolving-imports">Resolving imports</h2>
<p>Search order:</p>
<ul>
<li>directory of the Python script that was executed</li>
<li>standard library</li>
<li>external libraries</li>
</ul>
<p>Avoid name clashes with existing modules / packages!</p>

      </section><section class="slide" id="slide-22-9">
        <h2 id="resolving-imports">Resolving imports</h2>
<p>To see all search paths for imports:</p>
<pre><code class="language-py"><span class="hljs-keyword">import</span> sys
print(sys.path)</code></pre>

      </section><section class="slide" id="slide-22-10">
        <h2 id="compilation-of-modules">Compilation of modules</h2>
<p>Imported modules will be saved in a compiled form, making subsequent loading of the modules faster.</p>
<p>Compiled versions will be saved in the folder <code>__pycache__</code></p>

      </section></section><section class="section" id="section-23"><section class="slide" id="slide-23-1">
        <h1 id="pip--pipenv">PIP &amp; pipenv</h1>

      </section><section class="slide" id="slide-23-2">
        <h2 id="pip">PIP</h2>
<p><em>PIP</em> = Package manager for Python</p>
<p>Simple usage:</p>
<pre><code class="language-bash">pip install requests numpy</code></pre>
<p>Packages and their dependencies are looked up in the Python Package Index: <a href="https://pypi.org/">https://pypi.org/</a></p>

      </section><section class="slide" id="slide-23-3">
        <h2 id="pip">PIP</h2>
<p>Installing specific Versions:</p>
<pre><code>pip install requests==1.1
pip install numpy&gt;=1.16</code></pre>
      </section><section class="slide" id="slide-23-4">
        <h2 id="pip">PIP</h2>
<p>dependency list ina requirements file that can be shared with others:</p>
<p>requirements.txt:</p>
<pre><code>requests==1.1
numpy&gt;=1.16</code></pre><pre><code class="language-bash">pip install -r requirements.txt</code></pre>

      </section><section class="slide" id="slide-23-5">
        <h2 id="pipenv">Pipenv</h2>
<p><em>Pipenv</em>: virtual environments that enable installation of different package versions per project</p>

      </section><section class="slide" id="slide-23-6">
        <h2 id="pipenv">Pipenv</h2>
<pre><code class="language-bash">pip install pipenv</code></pre>

      </section><section class="slide" id="slide-23-7">
        <h2 id="pipenv">Pipenv</h2>
<p>Using pipenv:</p>
<pre><code class="language-bash">pipenv install requests
pipenv install numpy</code></pre>
<p>This creates two files:</p>
<ul>
<li><em>Pipfile</em>: general dependency information</li>
<li><em>Pipfile.lock</em>: exact version numbers</li>
</ul>

      </section><section class="slide" id="slide-23-8">
        <h2 id="pipenv">Pipenv</h2>
<p>Executing Python scripts in a PIP environment:</p>
<pre><code class="language-bash">pipenv run python foo.py</code></pre>

      </section></section><section class="section" id="section-24"><section class="slide" id="slide-24-1">
        <h1 id="functions">Functions</h1>

      </section><section class="slide" id="slide-24-2">
        <h2 id="arbitrary-number-of-arguments-args--kwargs">Arbitrary number of Arguments (args / kwargs)</h2>
<pre><code class="language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(*args, **kwargs)</span>:</span>
    print(args)
    print(kwargs)

foo(<span class="hljs-string">"one"</span>, <span class="hljs-string">"two"</span>, x=<span class="hljs-string">"hello"</span>)
<span class="hljs-comment"># args: ("one", "two")</span>
<span class="hljs-comment"># kwargs: {"x": "hello"}</span></code></pre>
<p><code>args</code> will be a tuple, <code>kwargs</code> will be a dictionary</p>

      </section><section class="slide" id="slide-24-3">
        <h2 id="arbitrary-number-of-arguments-args--kwargs">Arbitrary number of Arguments (args / kwargs)</h2>
<p>Task: recreate <code>range()</code> by using a while loop</p>

      </section><section class="slide" id="slide-24-4">
        <h2 id="unpacking-of-parameter-lists">Unpacking of parameter lists</h2>
<pre><code class="language-py">numbers = [<span class="hljs-string">"one"</span>, <span class="hljs-string">"two"</span>, <span class="hljs-string">"three"</span>]

<span class="hljs-comment"># equivalent:</span>
print(numbers[<span class="hljs-number">0</span>], numbers[<span class="hljs-number">1</span>], numbers[<span class="hljs-number">2</span>])

print(*numbers)</code></pre>

      </section><section class="slide" id="slide-24-5">
        <h2 id="global-and-local-scope">Global and local scope</h2>
<p><code>global</code> / <code>nonlocal</code></p>
<p>change the behavior of <em>assignments</em></p>

      </section></section><section class="section" id="section-25"><section class="slide" id="slide-25-1">
        <h1 id="object-references-and-mutations">Object references and mutations</h1>

      </section><section class="slide" id="slide-25-2">
        <h2 id="object-references-and-mutations">Object references and mutations</h2>
<p>Recap: What does this program print?</p>
<pre><code class="language-py">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
b = a
b.append(<span class="hljs-number">4</span>)
print(a)</code></pre>

      </section><section class="slide" id="slide-25-3">
        <h2 id="object-references-and-mutations">Object references and mutations</h2>
<pre><code class="language-py">a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
b = a
b.append(<span class="hljs-number">4</span>)
print(a)</code></pre>
<p>The Program prints <code>[1, 2, 3, 4]</code>. <code>a</code> and <code>b</code> refer to the same object.</p>

      </section><section class="slide" id="slide-25-4">
        <h2 id="object-references-and-mutations">Object references and mutations</h2>
<p>The statement <code>b = a</code> creates a new reference that refers to the same object.</p>
<p>Operations that create new references:</p>
<ul>
<li>assignments (<code>b = a</code>)</li>
<li>function calls (<code>myfunc(a)</code> - a new internal variable will be created)</li>
<li>insertions into collections (e.g. <code>mylist.append(a)</code>)</li>
<li>...</li>
</ul>

      </section><section class="slide" id="slide-25-5">
        <h2 id="object-references-and-functions">Object references and functions</h2>
<pre><code class="language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_middle_element</span><span class="hljs-params">(list_in)</span>:</span>
    list_in.pop(len(list_in) // <span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> list_in

a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
b = remove_middle_element(a)
print(b)
print(a)</code></pre>
<p>What does the above example print?</p>

      </section><section class="slide" id="slide-25-6">
        <h2 id="object-references-and-functions">Object references and functions</h2>
<p>Guiding principle for functions:</p>
<p><strong>Functions should not mutate parameters</strong></p>
<p>or more generally:</p>
<p><strong>Functions should only interact with the Python environment by receiving parameters and returning values</strong> (They should not have any <em>side effects</em>)</p>

      </section><section class="slide" id="slide-25-7">
        <h2 id="object-references-and-functions">Object references and functions</h2>
<p>Passing an object into a function will create a new reference to that same object (<em>call by sharing</em>).</p>
<pre><code class="language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(a_inner)</span>:</span>
    print(id(a_inner))

a_outer = []
foo(a_outer)
print(id(a_outer))</code></pre>

      </section><section class="slide" id="slide-25-8">
        <h2 id="object-references-and-functions">Object references and functions</h2>
<p>Possible implementations for <code>remove_middle_element</code>:</p>
<ul>
<li>as a function without side effects</li>
<li>as a method of <code>AdvancedList</code></li>
</ul>
<p>Compare: <code>sorted()</code> and <code>list.sort()</code> in Python</p>

      </section><section class="slide" id="slide-25-9">
        <h2 id="functions-without-side-effects">Functions without side effects</h2>
<p>The function does not mutate the list that was passed in - instead it returns a new list.</p>
<pre><code class="language-py"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_middle_element</span><span class="hljs-params">(list_in)</span>:</span>
    list_out = list_in.copy()
    list_out.pop(len(list_out) // <span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> list_out

a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
b = remove_middle_element(a)
print(b)</code></pre>

      </section><section class="slide" id="slide-25-10">
        <h2 id="method-in-a-custom-class">Method in a custom class</h2>
<p>Relaxation of the guiding principle for methods: Entries in <code>self</code> <em>may be mutated</em>.</p>
<p>The following method will change the object internally and return nothing.</p>
<pre><code class="language-py"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdvancedList</span><span class="hljs-params">(list)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">remove_middle_element</span><span class="hljs-params">(self)</span>:</span>
        self.pop(len(self) // <span class="hljs-number">2</span>)

a = AdvancedList([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])
a.remove_middle_element()
print(a)</code></pre>

      </section><section class="slide" id="slide-25-11">
        <h2 id="object-references-and-functions">Object references and functions</h2>
<p>Common rules (no side effects):</p>
<ul>
<li>Don&#39;t modify parameters that are passed in (exception: <code>self</code>)</li>
<li>Don&#39;t set global variables (Don&#39;t use the <code>global</code> statement)</li>
</ul>
<p>Strict rules (pure functions):</p>
<ul>
<li>Don&#39;t read global variables</li>
<li>Don&#39;t do any I/O (interactions with disk / network / ...)</li>
</ul>
<p>Pure functions only interact with their environment by receiving parameters and returning values.</p>
<p>The &quot;purer&quot; a function is the easier it is to reuse and test.</p>

      </section></section><section class="section" id="section-26"><section class="slide" id="slide-26-1">
        <h1 id="python-versions">Python versions</h1>

      </section><section class="slide" id="slide-26-2">
        <h2 id="python-versions">Python versions</h2>
<p>Python 2 vs Python 3</p>

      </section><section class="slide" id="slide-26-3">
        <h2 id="strings-and-bytes">Strings and Bytes</h2>
<p>major change in Python 3:</p>
<p>strict separation of text (strings) and binary data (bytes)</p>
<p>in Python 2: data types <code>bytes</code>, <code>str</code> and <code>unicode</code></p>

      </section><section class="slide" id="slide-26-4">
        <h2 id="print">Print</h2>
<p>Python 2:</p>
<pre><code class="language-py"><span class="hljs-keyword">print</span> <span class="hljs-string">"a"</span>,</code></pre>
<p>Python 3:</p>
<pre><code class="language-py">print(<span class="hljs-string">"a"</span>, end=<span class="hljs-string">""</span>)</code></pre>

      </section><section class="slide" id="slide-26-5">
        <h2 id="division">Division</h2>
<p>Python 2:</p>
<pre><code class="language-py"><span class="hljs-number">10</span> / <span class="hljs-number">3</span>    <span class="hljs-comment"># 3</span></code></pre>

      </section><section class="slide" id="slide-26-6">
        <h2 id="range">range</h2>
<p>in Python 2: <code>range()</code> returns a list, <code>xrange()</code> returns an object that saves on memory</p>
<p>in Python 3: <code>range()</code> returns an object that saves on memory</p>

      </section><section class="slide" id="slide-26-7">
        <h2 id="input">input</h2>
<p>in Python 2: <code>input()</code> will evaluate / execute the input, <code>raw_input()</code> returns a string</p>
<p>in Python 3: <code>input()</code> returns a string</p>

      </section><section class="slide" id="slide-26-8">
        <h2 id="__future__-imports">__future__ imports</h2>
<p>Getting some of the behavior of Python 3 in Python 2:</p>
<pre><code class="language-py"><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> print_function
<span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> unicode_literals
<span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> division</code></pre>

      </section><section class="slide" id="slide-26-9">
        <h2 id="python-future">Python-Future</h2>
<p>Compatibility layer between Python 2 and Python 3</p>
<p>Enables supporting both Python 2 and Python 3 from the same codebase</p>

      </section></section>

    </div>
    <div id="navigation-arrows">
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="navigation-arrows-svg"
        xml:space="preserve" width="100%" height="100%" viewBox="-110 -110 220 220">
        <path class="arrow right" d="M70,-30L100,0L70,30" />
        <path class="arrow down" d="M-30,70L0,100L30,70" />
        <path class="arrow left" d="M-70,-30L-100,0L-70,30" />
        <path class="arrow up" d="M-30,-70L0,-100L30,-70" />
      </svg>
    </div>
  </div>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      width: 100vw;
      height: 100vh;
      margin: 0px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgb(150, 150, 150);
      font-family: -apple-system, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
      line-height: 1.5rem;
    }

    p, ul, pre {
      margin-top: 0;
    }

    ul {
      padding-left: 1.5rem;
    }

    h1, h2, h3 {
      margin-top: 0px;
      font-weight: 600;
    }

    h1 {
      margin-top: 5vh;
      text-align: center;
      font-size: 2rem;
    }

    h2 {
      margin-bottom: 1.5em;
    }

    svg {
      width: 100%;
      height: auto;
    }

    .section {
      height: 100%;
      display: none;
    }

    .section.active {
      display: block;
    }

    .slide {
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    .slide.inactive {
      display: none;
    }

    #canvas {
      box-shadow: 0 0.5vh 1vh rgba(0, 0, 0, 0.3);
      background-color: #f8f8f8;
      position: relative;
      display: flex;
    }

    #canvas-content {
      width: 100%;
      height: 100%;
    }

    #canvas-content .note {
      display: none;
    }

    #canvas-content img {
      margin: 0px auto;
      display: block;
    }

    @media (min-aspect-ratio: 8/5) {

      html {
        font-size: 3.5vh;
      }

      /* wide screen */
      #canvas {
        width: calc(100vh / 5 * 8);
        height: 100vh;
        padding: 10vh;
        padding-top: 5vh;
      }
    }

    @media (max-aspect-ratio: 8/5) {

      html {
        font-size: calc(3.5vw * 5 / 8);
      }

      /* narrow screen */
      #canvas {
        width: 100vw;
        height: calc(100vw * 5 / 8);
        padding: calc(10vh * 5 / 8);
        padding-top: calc(5vh * 5 / 8);
      }
    }

    pre {
      background-color: rgb(224, 233, 240);
      box-shadow: 0 0.5vh 1vh rgba(0, 0, 0, 0.2);
      padding: 0.5em 1em;
      line-height: 1.2em;
      overflow: auto;
    }

    #navigation-arrows {
      position: absolute;
      right: 2rem;
      top: 2rem;
      height: 3rem;
      width: 3rem;
    }

    #navigation-arrows .arrow {
      stroke: lightblue;
      /*stroke-width: 0.8em; Chrome behaves differently with ems here */
      stroke-width: 16px;
      stroke-linecap: round;
      fill: none;
      cursor: pointer;
    }

    td,
    th {
      padding: 0.2em 0.8em;
    }

    th {
      text-align: start;
    }
  </style>
  <script>
    let presenterWindow;
    let activeSlide;
    let slideCount;

    const arrowUp = document.querySelector('.arrow.up');
    const arrowDown = document.querySelector('.arrow.down');
    const arrowRight = document.querySelector('.arrow.right');
    const arrowLeft = document.querySelector('.arrow.left');
    arrowUp.addEventListener('click',
      () => {activateSlideSafe(activeSlide[0], activeSlide[1] - 1);}
    );
    arrowDown.addEventListener('click',
      () => {activateSlideSafe(activeSlide[0], activeSlide[1] + 1);}
    );
    arrowLeft.addEventListener('click',
      () => {activateSlideSafe(activeSlide[0] - 1, 1);}
    );
    arrowRight.addEventListener('click',
      () => {activateSlideSafe(activeSlide[0] + 1, 1);}
    )
    const init = () => {
      slideCount = countSlides();
      activateSlideSafe(1, 1);
      addKeyControls();
      addSwipeControls();
      hideNoScriptMessage();
    }

    // count slides
    const countSlides = () => {
      const counts = [];
      return [...document.querySelectorAll('.section')].map(section => section.childNodes.length);
    }

    const updateVisible = () => {
      for (let section of document.querySelectorAll('.section')) {
        if (section.id === `section-${activeSlide[0]}`) {
          section.className = 'section active';
        } else {
          section.className = 'section inactive';
        }
      }
      for (let slide of document.querySelectorAll('.slide')) {
        if (slide.id === `slide-${activeSlide[0]}-${activeSlide[1]}`) {
          slide.className = 'slide active';
        } else {
          slide.className = 'slide inactive';
        }
      }
    }

    const updatePageArrows = () => {
      if (slideCount.length === 1) {
        arrowLeft.style.opacity = "0";
        arrowRight.style.opacity = "0";
      } else {
        const progressSections = (activeSlide[0] - 1) / (slideCount.length - 1);
        arrowLeft.style.opacity = progressSections.toString();
        arrowRight.style.opacity = (1 - progressSections).toString();
      }
      const slidesInActiveSection = slideCount[activeSlide[0] - 1]
      if (slidesInActiveSection === 1) {
        arrowUp.style.opacity = "0";
        arrowDown.style.opacity = "0";
      } else {
        const progressSlides = (activeSlide[1] - 1) / (slidesInActiveSection - 1);
        arrowUp.style.opacity = progressSlides.toString();
        arrowDown.style.opacity = (1 - progressSlides).toString();
      }
    }

    /**
     * Activate a slide if it exists, else do nothing
    */
    const activateSlideSafe = (sectionIndex, slideIndex) => {
      if (1 <= sectionIndex && sectionIndex <= slideCount.length && 1 <= slideIndex && slideIndex <= slideCount[sectionIndex - 1]) {
        activeSlide = [sectionIndex, slideIndex];
        updateVisible();
        updatePageArrows();
        scrolltoActiveSlide();
      }
    }

    const activateSlideNextSafe = () => {
      if (activeSlide[1] === slideCount[activeSlide[0] - 1]) {
        activateSlideSafe(activeSlide[0] + 1, 1);
      } else {
        activateSlideSafe(activeSlide[0], activeSlide[1] + 1);
      }
    }

    const activateSlideRightSafe = () => {
      activateSlideSafe(activeSlide[0] + 1, 1);
    }

    const activateSlideLeftSafe = () => {
      activateSlideSafe(activeSlide[0] - 1, 1);
    }

    const activateSlideDownSafe = () => {
      activateSlideSafe(activeSlide[0], activeSlide[1] + 1);
    }

    const activateSlideUpSafe = () => {
      activateSlideSafe(activeSlide[0], activeSlide[1] - 1);
    }

    const scrolltoActiveSlide = () => {
      const slideId = `#slide-${activeSlide[0]}-${activeSlide[1]}`;
      if (presenterWindow) {
        const activeSlide = presenterWindow.document.querySelector(slideId);
        if (activeSlide) {
          activeSlide.scrollIntoView();
        }
      }
    }

    const addKeyControls = () => {
      document.querySelector('body').addEventListener('keydown', event => {
        if (event.key === 'p') {
          const canvasContent = document.querySelector('#canvas-content').innerHTML;
          presenterWindow = window.open(document.URL, '_blank');
          presenterWindow.onload = () => {
            presenterWindow.document.querySelector('body').innerHTML = canvasContent;
          }
        }
        if (event.key === 'ArrowRight') {
          activateSlideRightSafe();
        } else if (event.key === 'ArrowLeft') {
          activateSlideLeftSafe();
        } else if (event.key === 'ArrowDown') {
          activateSlideDownSafe();
        } else if (event.key === 'ArrowUp') {
          activateSlideUpSafe();
        } else if (event.key === 'Enter') {
          activateSlideNextSafe();
        }
      });
    }

    const addSwipeControls = () => {

      const distance = 100;

      let startPos;
      let handled;

      document.addEventListener('touchstart', event => {
        startPos = event.touches[0];
        handled = false;
      });

      document.addEventListener('touchmove', event => {
        if (!handled) {
          let currentPos = event.touches[0];
          const xDiff = currentPos.clientX - startPos.clientX;
          const yDiff = currentPos.clientY - startPos.clientY;
          if (Math.abs(xDiff) > 2*Math.abs(yDiff) ||
              Math.abs(yDiff) > 2*Math.abs(xDiff)) {
            if (xDiff > distance) {
              activateSlideLeftSafe();
              handled = true;
            } else if (xDiff < -distance) {
              activateSlideRightSafe();
              handled = true;
            } else if (yDiff > distance) {
              activateSlideUpSafe();
              handled = true;
            } else if (yDiff < -distance) {
              activateSlideDownSafe();
              handled = true;
            }
          }
        }
      });
    }

    const hideNoScriptMessage = () => {
      document.querySelector("#no-script").innerHTML = "";
    }

    init();

  </script>
</body>

</html>